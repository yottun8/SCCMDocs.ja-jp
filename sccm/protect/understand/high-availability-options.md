---
title: "高可用性 | Microsoft Docs"
description: "利用可能なサービスを高いレベルで維持するためのオプションを利用し、System Center Configuration Manager を展開する方法について説明します。"
ms.custom: na
ms.date: 10/06/2016
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology: configmgr-other
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 1a38421d-24c1-4fef-bf6c-42fce53109ac
caps.latest.revision: "4"
author: Brenduns
ms.author: brenduns
manager: angrobe
ms.openlocfilehash: d3e9afb90cdc85bc7299626b642c52be659e3bdf
ms.sourcegitcommit: 51fc48fb023f1e8d995c6c4eacfda7dbec4d0b2f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/07/2017
---
# <a name="high-availability-options-for-system-center-configuration-manager"></a>System Center Configuration Manager の高可用性オプション

*適用対象: System Center Configuration Manager (Current Branch)*



利用可能なサービスを高いレベルで維持するためのオプションを利用し、System Center Configuration Manager を展開できます。   

高可用性をサポートするオプション:   

-   重要なサービスをクライアントに提供するサイト システム サーバーの複数のインスタンスをサイトがサポートする。  

-   中央管理サイトおよびプライマリ サイトが、サイト データベースのバックアップをサポートする。 サイト データベースにサイトおよびクライアントのすべての構成が含まれていて、中央管理サイトがある階層内のサイト間で共有される。  

-   組み込みのサイト回復オプションを使用すると、サーバーのダウンタイムを減らすことができ、中央管理サイトを持つ階層の場合に回復が簡略化される詳細設定オプションがある。  

-   クライアントは、管理者が操作しなくても、よくある問題を自動的に修復できる。  

-   サイトが最新のデータを送信しなかったクライアントに関するアラートを生成し、管理者に潜在的な問題を警告する。  

-   Configuration Manager には、サーバーまたはクライアントの操作が問題になる前に、問題および傾向を識別できるいくつかの組み込みレポートがある。  

 Configuration Manager は、リアルタイムでサービスを行わないため、データの処理の多少の遅延は、通常、予期されることです。 したがって、サービスが一時的に中断されている場合に、重大な問題が発生している可能性はかなり低くなります。 高可用性を考慮してサイトおよび階層を構成すると、ダウンタイムが最小化され、操作の独立性が維持されて、高いレベルのサービスが提供されます。  

 たとえば、Configuration Manager クライアントは、通常、設定されている操作のスケジュールと構成、およびサイトにデータを送信する処理のスケジュールによって自律的に動作します。  

-   クライアントがサイトに接続できない場合は、サイトに接続できるまで、送信するデータをキャッシュします。  

-   サイトに接続できないクライアントは、サイトに接続して新しいポリシーを取得できるようになるまで、最後に認識したスケジュールおよびキャッシュされた情報 (実行またはインストールする必要がある、以前にダウンロードされたアプリケーションなど) を使用して動作します。  

-   サイトは、サイト システムおよびクライアントのステータスが定期的に更新されることを監視し、それらが登録されない場合にアラートを生成します。  

-   組み込みレポートを使用すると、実行中の操作、および過去の操作と傾向を把握できます。 Configuration Manager はまた、実行中の操作のほぼリアルタイムの情報を提供する、状態に基づいたメッセージをサポートしています。  

  このトピックの情報は、次の記事の情報とともに使用します。
-   [推奨ハードウェア](../../core/plan-design/configs/recommended-hardware.md)
-   [サイト システム サーバーのサポートされるオペレーティング システム](../../core/plan-design/configs/supported-operating-systems-for-site-system-servers.md)  

-   [サイトとサイト システムの前提条件](../../core/plan-design/configs/site-and-site-system-prerequisites.md)


##  <a name="bkmk_snh"></a> サイトと階層の高可用性  
 **SQL Server クラスターを使用したサイト データベースのホスティング:**  

 中央管理サイトまたはプライマリ サイトのデータベースに SQL Server クラスターを使用する場合は、SQL Server に組み込まれているフェールオーバーのサポートを使用します。  

 セカンダリ サイトは、SQL Server クラスターを使用できず、サイト データベースのバックアップまたは復元はサポートされません。 セカンダリ サイトを回復するには、親プライマリ サイトからそのセカンダリ サイトを再インストールします。  

 **SQL Server AlwaysOn 可用性グループを使用したサイト データベースのホスティング:**  

 バージョン 1602 以降では、高可用性と障害復旧ソリューションとして、SQL Server AlwaysOn 可用性グループを使用して、プライマリ サイトと中央管理サイトでサイト データベースをホストできます。 詳細については、「[System Center Configuration Manager 用の高可用性サイト データベースの SQL Server AlwaysOn](../../core/servers/deploy/configure/sql-server-alwayson-for-a-highly-available-site-database.md)」を参照してください。  

 **中央管理サイトおよび 1 つまたは複数の子プライマリ サイトを持つサイトの階層を展開する:**  

 この構成では、サイトが冗長なネットワークのセグメントを管理する場合に、フォールト トレランスを提供できます。 また、この構成では、別のサイトで利用できる共有データベースの情報を使用して、回復するサイトのサイト データベースを再構築する追加の回復オプションを利用できます。 このオプションを使用すると、エラーが発生したサイト データベースの失敗したバックアップまたは利用できないバックアップの代わりにすることができます。  

 **中央管理サイトおよびプライマリ サイトで定期的にバックアップを作成する:**  

 定期的にサイトのバックアップを作成してテストすると、サイトを最小の時間で回復することを経験し、サイトを回復するために必要なデータがあることを確認できます。  

 **複数のサイト システムの役割のインスタンスのインストール:**  

 重要なサイト システムの役割のインスタンスを複数インストールすると (管理ポイント、配布ポイントなど) は、特定のサイト システム サーバーがオフラインの場合にクライアントが使用する冗長な接続ポイントを用意できます。  

 **サイトでの複数の SMS プロバイダーのインスタンスのインストール:** SMS プロバイダーは、1 つ以上の Configuration Manager コンソールの管理のための接続ポイントとなります。 複数の SMS プロバイダーをインストールすると、サイトおよび階層を管理するための冗長な接続ポイントを提供できます。  

##  <a name="bkmk_ssr"></a> サイト システムの役割の高可用性  
 管理者は、各サイトにサイト システムの役割を展開して、そのサイトでクライアントが使用するサービスを提供します。 サイト データベースには、サイトおよびすべてのクライアントの構成情報が含まれています。 1 つまたは複数の利用可能なオプションを使用して、サイト データベースの高可用性を向上させたり、必要な場合にサイトおよびサイト データベースの回復を行なったりします。  

 **重要なサイト システムの役割の冗長化:**  

-   アプリケーション カタログ Web サービス ポイント  

-   アプリケーション カタログ Web サイト ポイント  

-   配布ポイント  

-   管理ポイント  

-   ソフトウェアの更新ポイント  

-   状態移行ポイント  

 レポート サービス ポイントの役割のインスタンスを複数インストールすると、サイトおよびクライアントでのレポート処理を冗長にできます。

 PowerShell を使用してソフトウェア更新ポイントのサイト システムの役割を Windows ネットワーク負荷分散 (NLB) クラスターにインストールすると、フェールオーバーのサポートを提供できます。  


 **組み込みのサイト バックアップ:**  

 Configuration Manager には、組み込みのバックアップ タスクが含まれており、定期的なスケジュールでサイトおよび重要な情報をバックアップするために使用できます。 また、Configuration Manager セットアップ ウィザードは、サイトを稼動状態に復元するためのサイトの復元アクションをサポートしています。  

 **Active Directory Domain Services および DNS への発行:**  

 各サイトを構成して、サイト システム サーバーおよびサービスに関するデータを Active Directory Domain Services および DNS に発行できます。 これにより、クライアントは、ネットワーク上の最もアクセスしやすいサーバーを識別したり、重要なサービスを提供する新しいサイト システム サーバー (管理ポイントなど) が利用可能になったときにそれを識別したりできます。  

 **SMS プロバイダーおよび Configuration Manager コンソール:**  

 Configuration Manager は、Configuration Manager コンソールが複数のアクセス ポイントを使用できるように、複数の SMS プロバイダーをそれぞれ別のコンピューターにインストールすることをサポートしています。 これにより、1 つの SMS プロバイダーのコンピューターがオフラインであっても、Configuration Manager のサイトおよびクライアントを表示および再構成する機能を維持できます。  

 Configuration Manager コンソールをサイトに接続すると、そのサイトの SMS プロバイダーのインスタンスに接続されます。 SMS プロバイダーのインスタンスはランダムに選択されます。 選択した SMS プロバイダーが利用できない場合は、次のオプションがあります。  

-   コンソールをサイトに再接続します。 新しい各接続要求は、SMS プロバイダーのインスタンスにランダムに割り当てられるため、新しい接続が利用可能なインスタンスに割り当てられる可能性があります。  

-   コンソールを別の Configuration Manager サイトに接続して、その接続から構成を管理します。 この場合、構成の変更が多少遅れます (5 分以内)。 サイトの SMS プロバイダーがオンラインに戻ったら、Configuration Manager コンソールを管理するサイトに直接再接続します。  

 管理ユーザーが使用できるように、Configuration Manager コンソールを複数のコンピューターにインストールできます。 各 SMS プロバイダーは、複数の Configuration Manager コンソールからの接続をサポートしています。  

 **管理ポイント:**  

 各プライマリ サイトに複数の管理ポイントをインストールして、それらのサイトが Active Directory インフラストラクチャおよび DNS にサイト データを発行できるようにします。  

 複数の管理ポイントを使用すると、複数のクライアントによって使用される各管理ポイントを負荷分散できます。 また、管理ポイントに 1 つまたは複数のデータベースのレプリカをインストールして、管理ポイントの CPU に負荷がかかる操作を減らしたり、この重要なサイト システムの役割の利用可能性を向上させることができます。  

 セカンダリ サイトに 1 つの管理ポイントのみをインストールするには、セカンダリ サイト サーバーに配置する必要があります。セカンダリ サイトの管理ポイントは、高可用構成を持つと見なされません。  

> [!NOTE]  
>  オンプレミスのモバイル デバイス管理で管理されているデバイスは、プライマリ サイトの 1 つだけの管理ポイントに接続します。 管理ポイントは、登録時に Configuration Manager によってモバイル デバイスに割り当てられ、その後は変更されません。 複数の管理ポイントをインストールして、モバイル デバイスに対して複数を有効にすると、管理ポイントはモバイル デバイスのクライアントにランダムに割り当てられます。  
>   
>  モバイル デバイス クライアントが使用している管理ポイントが利用できなくなった場合は、この管理ポイントの問題を解決するか、モバイル デバイスに対して有効にされている稼働状態の管理ポイントに割り当てることができるように、モバイル デバイスをワイプして再登録する必要があります。  

 **配布ポイント:**  

 複数の配布ポイントをインストールし、コンテンツを複数の配布ポイントに展開します。 コンテンツの場所の境界グループが重なるように構成すると、各サブネット上のクライアントが複数の配布ポイントから展開にアクセスできるようになります。 さらに、コンテンツの代替の場所として 1 つまたは複数の配布ポイントを構成することを検討してください。  

 コンテンツのフォールバック場所に関する一般的な情報については、「[System Center Configuration Manager のコンテンツ インフラストラクチャとコンテンツの管理](../../core/servers/deploy/configure/manage-content-and-content-infrastructure.md)」を参照してください。  

 **アプリケーション カタログ Web サービス ポイントとアプリケーション カタログ Web サイト ポイント:**  

 各サイト システムの役割のインスタンスは複数インストールできます。最適なパフォーマンスにするには、それぞれ 1 つを同じサイト システムのコンピューターに展開します。  

 各アプリケーション カタログ サイト システムの役割は、階層内のこのサイト サーバーの役割の場所に関係なく、そのサイト システムの役割の他のインスタンスと同じ情報を提供します。 そのため、クライアントがアプリケーション カタログを要求するときに、[既定のアプリケーション カタログ Web サイト ポイント] デバイス クライアント設定が [自動的に検出] に構成してある場合、クライアントは使用可能なインスタンスに振り向けられます。 クライアントの現在のネットワークの場所に基づき、ローカルのアプリケーション カタログ サイト システム サーバーに優先権が与えられます。  

 クライアント設定および自動検出の動作のしくみの詳細については、「[System Center Configuration Manager のクライアント設定について](../../core/clients/deploy/about-client-settings.md)」トピックの「[コンピューター エージェント](../../core/clients/deploy/about-client-settings.md#computer-agent)」セクションを参照してください。  

##  <a name="bkmk_client"></a> クライアントの高可用性  
 **クライアントの操作が独立している:**  

 Configuration Manager クライアントの独立性を実現する機能には次のものがあります。  

-   クライアントは特定のサイト システム サーバーとの持続的な接続を要求しません。 クライアントは、認識されている構成を使用して、スケジュールに事前に構成されているアクションを実行します。  

-   クライアントは、利用可能なサイト システムの役割の任意のインスタンスを使用してサービスを受けることができ、利用可能なサーバーが見つかるまで既知のサーバーへの接続を試みます。  

-   クライアントは、サイト システム サーバーに直接接続していなくても、インベントリ、ソフトウェアの展開、および同様のスケジュールされたアクションを実行できます。  

-   フォールバック ステータス ポイントを使用するように構成されているクライアントは、管理ポイントと通信できない場合、フォールバック ステータス ポイントに詳細を送信できます。  

 **クライアントがそれ自体を修復できる:**  

 クライアントは、管理者が直接に介入しなくても、ほとんどの一般的な問題を自動的に修復します。  

-   クライアントは、定期的にそれ自体のステータスを自己評価し、修復手順および修復用のソース ファイルのローカル キャッシュを使用して、よくある問題を修復するための対応を行います。  

-   クライアントがサイトへのステータス情報の送信に失敗すると、サイトがアラートを生成することがあります。 これらのアラートを受け取った管理ユーザーは、クライアントの通常の動作を復元するための対応を直ちに行なうことができます。  

 **クライアントが今後使用する情報をキャッシュする:**  

 クライアントは、管理ポイントと通信するときに、次の情報を取得およびキャッシュできます。  

-   クライアント設定  

-   クライアントのスケジュール。  

-   クライアントへのインストールがスケジュールされているソフトウェアのダウンロードおよびソフトウェアの展開に関する情報 (展開にこの操作が構成されている場合)。  

 クライアントは管理ポイントに接続できない場合、ステータス、状態、およびサイトに報告するクライアントの情報をローカルにキャッシュし、管理ポイントとの接続が確立された後にこのデータを転送します。  

 **クライアントがフォールバック ステータス ポイントにステータスを送信できる:**  

 フォールバック ステータス ポイントを使用するようにクライアントを構成すると、クライアントが操作に関する重要な詳細情報を送信する接続ポイントが追加されます。 フォールバック ステータス ポイントを使用するように構成されているクライアントは、管理ポイントと通信できない場合でも、フォールバック ステータス ポイントのサイト システムの役割に操作のステータスを送信します。  

 **クライアントのデータおよびクライアントの識別の集中管理:**  

 各クライアントの識別に関する重要な情報は、個々のクライアントではなくサイト データベースで保持され、そのデータが特定のコンピューターまたはユーザーに関連付けられます。 その意味:  

-   クライアントがインストールされているコンピューターの履歴レコードに影響を与えずに、コンピューター上のクライアントのソース ファイルをアンインストールおよび再インストールできます。  

-   クライアント コンピューターでエラーが発生しても、データベースに格納されている情報の整合性には影響しません。 この情報は報告のために引き続き使用できます。  

##  <a name="bkmk_nonHAoptions"></a> 利用可能性が高くないサイトおよびサイト システムの役割のオプション  
 いくつかのサイト システムは、サイトまたは階層で複数のインスタンスをサポートしていません。 この情報は、オフラインになるこれらのサイト システムを準備するのに役立ちます。  

 **サイト サーバー (サイト):**  

 Configuration Manager は、Windows Server クラスターまたは NLB クラスターの各サイトへのサイト サーバーのインストールをサポートしていません。  

 サイト サーバーでエラーが発生した場合、またはサイト サーバーが動作しない場合に備えるには、次の情報を使用します。  

-   組み込みのバックアップ タスクを使用して、サイトのバックアップを定期的に作成します。 テスト環境で、バックアップからサイトを復元する訓練を定期的に行ないます。  

-   中央管理サイトを持つ階層内に複数の Configuration Manager プライマリ サイトを展開して冗長な構成にします。 サイトでエラーが発生したら、Windows グループ ポリシーまたはログオン スクリプトを使用して、クライアントを稼動状態のサイトに再割り当てすることを検討してください。  

-   階層内に中央管理サイトがある場合は、階層内の別のサイトからサイト データベースを回復するオプションを使用して、中央管理サイトまたは子プライマリ サイトを回復できます。  

-   セカンダリ サイトは復元できません。再インストールする必要があります。  

 **資産インテリジェンス同期ポイント (階層):**  

 このサイト システムの役割は、重要ではないと見なされており、Configuration Manager のオプションの機能を提供します。 サイト システムがオフラインになった場合は、次のいずれかのオプションを使用します。  

-   サイト システムがオフラインになった理由を解決します。  

-   現在のサーバーから役割をアンインストールし、新しいサーバーに役割をインストールします。  

 **Endpoint Protection ポイント (階層):**  

 このサイト システムの役割は、重要ではないと見なされており、Configuration Manager のオプションの機能を提供します。 サイト システムがオフラインになった場合は、次のいずれかのオプションを使用します。  

-   サイト システムがオフラインになった理由を解決します。  

-   現在のサーバーから役割をアンインストールし、新しいサーバーに役割をインストールします。  

 **登録ポイント (サイト):**  

 このサイト システムの役割は、重要ではないと見なされており、Configuration Manager のオプションの機能を提供します。 サイト システムがオフラインになった場合は、次のいずれかのオプションを使用します。  

-   サイト システムがオフラインになった理由を解決します。  

-   現在のサーバーから役割をアンインストールし、新しいサーバーに役割をインストールします。  

 **登録プロキシ ポイント (サイト):**  

 このサイト システムの役割は、重要ではないと見なされており、Configuration Manager のオプションの機能を提供します。 ただし、このサイト システムの役割の複数のインスタンスを階層内の単一のサイトおよび複数のサイトにインストールできます。 サイト システムがオフラインになった場合は、次のいずれかのオプションを使用します。  

-   サイト システムがオフラインになった理由を解決します。  

-   現在のサーバーから役割をアンインストールし、新しいサーバーに役割をインストールします。  

 サイトに複数の登録プロキシ サーバーがある場合、サーバー名に DNS エイリアスを使用します。 この構成を使用すると、ユーザーがモバイル デバイスを登録するときに、DNS ラウンド ロビンによって、多少のフォールト トレランスおよび負荷分散が提供されます。  

 **フォールバック ステータス ポイント (サイトまたは階層):**  

 このサイト システムの役割は、重要ではないと見なされており、Configuration Manager のオプションの機能を提供します。 サイト システムがオフラインになった場合は、次のいずれかのオプションを使用します。  

-   サイト システムがオフラインになった理由を解決します。  

-   現在のサーバーから役割をアンインストールし、新しいサーバーに役割をインストールします。 クライアントのインストール時にクライアントがフォールバック ステータス ポイントに割り当てられるため、新しいサイト システム サーバーを使用するように既存のクライアントを変更する必要があります。  

### <a name="see-also"></a>関連項目  
 [System Center Configuration Manager のサポートされている構成](../../core/plan-design/configs/supported-configurations.md)
