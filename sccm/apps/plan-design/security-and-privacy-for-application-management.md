---
title: アプリのセキュリティとプライバシー
titleSuffix: Configuration Manager
description: Configuration Manager でアプリケーションを管理する場合のセキュリティとプライバシーに関するガイダンスと推奨事項について説明します。
ms.date: 08/31/2018
ms.prod: configuration-manager
ms.technology: configmgr-app
ms.topic: conceptual
ms.assetid: 4d26deed-3b16-4116-b640-f618f2c20f5a
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: be4f60bbc6114abc1c4537cc83ee8c2dd0aeef42
ms.sourcegitcommit: 48098f9fb2f447672bf36d50c9f58a3d26acb9ed
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/14/2018
ms.locfileid: "53421928"
---
# <a name="security-and-privacy-for-application-management-in-configuration-manager"></a>Configuration Manager でのアプリケーション管理のセキュリティとプライバシー

*適用対象:System Center Configuration Manager (Current Branch)*


##  <a name="security-guidance-for-application-management"></a>アプリケーション管理に関するセキュリティのガイダンス  


### <a name="use-the-new-software-center-without-the-application-catalog"></a>アプリケーション カタログなしで新しいソフトウェア センターを使用する
<!--1358309--> バージョン 1806 以降では、ユーザーが利用できるアプリケーションをソフトウェア センターに表示するのにアプリケーション カタログの役割は必要なくなりました。 この構成は、ユーザーにアプリケーションを配布するために必要なサーバー インフラストラクチャを減らすのに役立ちます。 サーバー インフラストラクチャを減らすと、攻撃対象も減ります。 

インターネット ベースのクライアントに対して一貫性のあるセキュリティ保護されたアプリケーション エクスペリエンスを提供するには、Azure Active Directory とクラウド管理ゲートウェイを使用します。

詳しくは、「[ソフトウェア センターの構成](/sccm/apps/plan-design/plan-for-and-configure-application-management#bkmk_userex)」をご覧ください。 


### <a name="use-https-with-the-application-catalog"></a>アプリケーション カタログを使用して HTTPS を使用する

HTTPS 接続を受け入れるようにアプリケーション カタログ Web サイト ポイントとアプリケーション カタログ Web サービス ポイントを構成します。 この構成では、サーバーはユーザーに対して認証されます。 送信されるデータは改ざんや閲覧から保護されます。 

信頼されている Web サイトにのみ接続するようにユーザーを教育し、ソーシャル エンジニアリング攻撃を防ぎます。 悪意のある Web サイトの危険性について、ユーザーを教育してください。

HTTPS を使用しない場合は、ブランド構成オプションを使用しないでください。 これらの設定では、ID の証拠としてアプリケーション カタログで組織の名前が示されます。  


### <a name="use-role-separation"></a>役割の分離を使用する

アプリケーション カタログ Web サイト ポイントとアプリケーション カタログ Web サービス ポイントを、別のサーバーにインストールします。 アプリケーション カタログ Web サイト ポイントが侵害された場合でも、アプリケーション カタログ Web サービス ポイントとは切り離されています。 この設定は、Configuration Manager のクライアントとインフラストラクチャを保護するために役立ちます。 この構成は、アプリケーション カタログ Web サイト ポイントがインターネットからのクライアント接続を受け入れる場合に特に重要です。 この場合、サーバーは攻撃に対してより脆弱になります。  


### <a name="close-browser-windows"></a>ブラウザー ウィンドウを閉じる

アプリケーション カタログの使用が終了したらブラウザー ウィンドウを閉じるようにユーザーを教育する ユーザーがアプリケーション カタログに使用したのと同じブラウザー ウィンドウで外部 Web サイトを参照する場合、ブラウザーでは、イントラネット内の信頼されているサイト用のセキュリティ設定が引き続き使用されます。  


### <a name="centrally-specify-user-device-affinity"></a>ユーザーとデバイスのアフィニティを一元的に指定する

プライマリ デバイスの指定をユーザーに許可せずに、手動でユーザーとデバイスのアフィニティを指定します。 使用状況に基づいた構成を有効にしないでください。

ユーザーまたはデバイスから収集された情報を信頼できるとは見なさないでください。 信頼されている管理者が指定していないユーザー デバイスのアフィニティを使用してソフトウェアを展開する場合、そのソフトウェアの受け取りを許可されていないコンピューター上とユーザーに対してソフトウェアがインストールされる可能性があります。  


### <a name="dont-run-deployments-from-distribution-points"></a>配布ポイントから展開を実行しない

配布ポイントから実行するのではなく、常に、配布ポイントからコンテンツをダウンロードするように展開を構成する 配布ポイントからコンテンツをダウンロードしてローカルで実行するように展開を構成すると、Configuration Manager クライアントは、コンテンツをダウンロードした後でパッケージ ハッシュを検証します。 ハッシュがポリシーのハッシュと一致しない場合、クライアントはパッケージを破棄します。 

配布ポイントから直接実行するように展開を構成すると、Configuration Manager クライアントはパッケージ ハッシュを検証しません。 つまり、Configuration Manager クライアントが改ざんされたソフトウェアをインストールする可能性があります。

配布ポイントから直接展開を実行する必要がある場合は、配布ポイントのパッケージに対して NTFS の最低限のアクセス許可を使用します。 また、インターネット プロトコル セキュリティ (IPsec) を使用して、クライアントと配布ポイント間、および配布ポイントとサイト サーバー間のチャネルをセキュリティで保護します。


### <a name="bkmk_interact"></a> ユーザーに管理者特権でのプロセスと対話させない
  
**[管理者権限で実行する]** オプションまたは **[システム用にインストールする]** オプションを有効にする場合、ユーザーがアプリケーションと対話できないようにします。 アプリケーションを構成するときは、オプションを **[プログラムのインストールの表示および対話をユーザーに許可する]** に設定することができます。 この設定を選択すると、ユーザーはユーザー インターフェイスで必要なプロンプトに応答できるようになります。 また、**[管理者権限で実行する]** (バージョン 1802 以降では **[システム用にインストールする]**) ようにアプリケーションを構成する場合、プログラムを実行するコンピューターを操作する攻撃者は、ユーザー インターフェイスを使用してクライアント コンピューターに対する特権を昇格する可能性があります。

管理者権限を必要とするソフトウェアを展開する場合、セットアップおよびユーザーごとの権限の昇格に Windows インストーラーを使用するプログラムを使用します。 セットアップは、管理者権限を持たないユーザーのコンテキストで実行される必要があります。 Windows インストーラーのユーザーごとに昇格した権限を使用すると、この要件を持つアプリケーションを最も安全に展開できます。


### <a name="restrict-whether-users-can-install-software-interactively"></a>ユーザーが対話形式でソフトウェアをインストールできるかどうかを制限する

**[コンピューター エージェント]** グループで **[インストール権限]** クライアント設定を構成します。 この設定は、アプリケーション カタログまたはソフトウェア センターを使用してソフトウェアをインストールできるユーザーの種類を制限します。 

たとえば、**[インストール権限]** が **[管理者のみ]** に設定されたカスタムのクライアント設定を作成します。 このクライアント設定をサーバーのコレクションに適用します。 この構成により、管理者権限を持たないユーザーはこれらのサーバーでソフトウェアをインストールできません。  


### <a name="for-mobile-devices-deploy-only-applications-that-are-signed"></a>モバイル デバイスの場合、署名されたアプリケーションのみを展開する

モバイル デバイスで信頼された証明機関 (CA) がコード署名している場合にのみ、モバイル デバイス アプリケーションのみを展開します。 

次に例を示します。
- VeriSign などのよく知られた証明機関が署名しているベンダーのアプリケーション。  

- 社内の CA を使用して Configuration Manager とは独立して署名した社内アプリケーション。  

- アプリケーションの種類を作成し、署名証明書を使用するときに、Configuration Manager を使用して署名した社内アプリケーション。


### <a name="secure-the-location-of-the-mobile-device-application-signing-certificate"></a>モバイル デバイスのアプリケーション署名証明書の場所をセキュリティ保護する

Configuration Manager の **[アプリケーションの作成ウィザード]** を使用してモバイル デバイス アプリケーションに署名する場合、署名証明書ファイルの場所と通信チャネルをセキュリティで保護します。 特権の昇格と中間者攻撃から保護するため、署名証明書ファイルをセキュリティで保護されたフォルダーに保存します。 

次のコンピューター間で IPsec を使用します。
- Configuration Manager コンソールを実行しているコンピューター
- 署名証明書ファイルを保存するコンピューター
- アプリケーション ソース ファイルを保存するコンピューター

または、Configuration Manager とは別に、**[アプリケーションの作成ウィザード]** を実行する前に、アプリケーションに署名します。


### <a name="implement-access-controls"></a>アクセス制御を実装する

参照コンピューターを保護するには、アクセス制御を実装します。 参照コンピューターを参照して展開の種類で検出方法を構成するときは、コンピューターが侵害されていないことを確認します。


### <a name="restrict-and-monitor-administrative-users"></a>管理ユーザーを制限して監視する

次のアプリケーション管理のロールベースのセキュリティ ロールを付与する管理ユーザーを制限および監視します。
- **アプリケーション管理者**
- **アプリケーション作成者**
- **アプリケーション展開マネージャー**

役割に基づいた管理を構成している場合でも、アプリケーションを作成および展開する管理ユーザーに期待されるアクセス許可以上の権限がある可能性があります。 たとえば、管理ユーザーは、アプリケーションを作成または変更するときに、自身のセキュリティ スコープに含まれていない依存アプリケーションを選択できます。


### <a name="configure-app-v-apps-in-virtual-environments-with-the-same-trust-level"></a>同じ信頼レベルで仮想環境に App-V アプリを構成する

Microsoft Application Virtualization (App-V) 仮想環境を構成する場合、同じ信頼レベルの仮想環境にあるアプリケーションを選択します。 App-V 仮想環境内のアプリケーションは、クリップボードなどのリソースを共有できるため、選択したアプリケーションが同じ信頼レベルになるように仮想環境を構成します。

詳細については、「[Create App-V virtual environments](/sccm/apps/deploy-use/create-app-v-virtual-environments)」 (App-V 仮想環境の作成) をご覧ください。


### <a name="make-sure-macos-apps-are-from-a-trustworthy-source"></a>MacOS アプリが信頼できる発行元からのものであることを確認する

macOS デバイス用アプリケーションを展開する場合、信頼できる発行元のソース ファイルであることを確認します。 CMAppUtil ツールでは、ソース パッケージの署名は検証されません。 パッケージの発行元が信頼できることを確認します。 CMAppUtil ツールは、ファイルが改ざんされたかどうかを検出できません。


### <a name="secure-the-cmmac-file-for-macos-apps"></a>macOS アプリの cmmac ファイルをセキュリティ保護する

macOS コンピューター用のアプリケーションを展開する場合は、**.cmmac** ファイルの場所をセキュリティ保護します。 CMAppUtil ツールでこのファイルを生成し、Configuration Manager にインポートします。 このファイルは、署名または検証されません。 

このファイルを Configuration Manager にインポートするときに、通信チャネルをセキュリティ保護します。 このファイルの改ざんを防ぐため、セキュリティ保護されたフォルダーに格納します。 次のコンピューター間で IPsec を使用します。
- Configuration Manager コンソールを実行しているコンピューター  
- **.cmmac** ファイルを保存するコンピューター  


### <a name="use-https-for-web-applications"></a>Web アプリケーションに HTTPS を使用する

Web アプリケーションの展開の種類を構成する場合、HTTPS を使用して接続をセキュリティ保護します。 HTTPS リンクではなく、HTTP リンクを使用して Web アプリケーションを展開すると、デバイスが偽のサーバーにリダイレクトされる可能性があります。 デバイスとサーバー間で転送されるデータは改ざんされる可能性があります。



##  <a name="security-issues-for-application-management"></a>アプリケーション管理に関するセキュリティの問題  

-   権限の低いユーザーが、クライアント コンピューター上のクライアント キャッシュからファイルをコピーすることができる。  

     ユーザーは、クライアント キャッシュを読み取ることができますが、書き込むことはできません。 読み取りアクセス許可により、ユーザーは、別のコンピューターにアプリケーション インストール ファイルをコピーすることができます。  

-   権限の低いユーザーが、クライアント コンピューターのソフトウェア展開履歴が記録されているファイルを変更することができる。  

     アプリケーション履歴情報は保護されないため、ユーザーは、アプリケーションがインストールされているかどうかをレポートするファイルを変更することができます。  

-   App-V パッケージは署名されません。  

     Configuration Manager の App-V パッケージは署名をサポートしていません。 デジタル署名は、信頼できる送信元のコンテンツである、送信中に改ざんされていないことを確認します。 このセキュリティの問題を軽減する方法はありません。 セキュリティのベスト プラクティスに従い、信頼できる発行元および保護された場所のコンテンツをダウンロードしてください。  

-   コンピューターのすべてのユーザーが公開済みの App-V アプリケーションをインストールできる  

     App-V アプリケーションがコンピューターに公開されると、そのコンピューターにサインインしているすべてのユーザーがそのアプリケーションをインストールできます。 アプリケーションの公開後にアプリケーションをインストールできるユーザーを制限することはできません。  

-   モバイル デバイスでは会社のポータルに対するインストール アクセス許可を制限できません。  

     クライアント設定を構成してインストール アクセス許可を制限することはできますが、この設定は会社のポータルでは機能しません。 この問題で特権の昇格が発生する可能性があります。 ユーザーは、インストールを許可するべきではないアプリをインストールする可能性があります。  



##  Microsoft Silverlight 5 用の <a name="BKMK_CertificatesSilverlight5"></a> 証明書、およびアプリケーション カタログに必要な管理者特権での信頼モード  

> [!Important]  
> Configuration Manager バージョン 1802 以降では、クライアントは Silverlight を自動的にインストールしません。
> 
> バージョン 1806 以降では、アプリケーション カタログ Web サイト ポイントの **Silverlight ユーザー エクスペリエンス**はサポートされていません。 新しいソフトウェア センターを使う必要があります。 詳しくは、「[ソフトウェア センターの構成](/sccm/apps/plan-design/plan-for-and-configure-application-management#bkmk_userex)」をご覧ください。  

 Configuration Manager クライアント バージョン 1710 以降には、Microsoft Silverlight 5 が必要です。また、ユーザーがアプリケーション カタログからソフトウェアをインストールするには、管理者特権での信頼モードで Silverlight 5 を実行する必要があります。 Silverlight アプリケーションの既定では、アプリケーションからユーザー データにアクセスできないように部分的な信頼モードで実行されます。 Configuration Manager は、インストールされていない場合、Microsoft Silverlight 5 をクライアントに自動的にインストールします。 既定で、Configuration Manager は、コンピューター エージェントの **[Silverlight アプリケーションが管理者特権での信頼モードで実行されることを許可する]** クライアント設定を **[はい]** に設定します。 この設定によって、署名され、信頼されている Silverlight アプリケーションは管理者特権での信頼モードを要求できます。  

 アプリケーション カタログ Web サイト ポイントをインストールすると、クライアントは、各 Configuration Manager クライアント コンピューターの信頼される発行元の証明書ストアに Microsoft 署名証明書もインストールします。 この証明書によって署名されている Silverlight アプリケーションは、コンピューターがアプリケーション カタログからソフトウェアをインストールする必要がある、管理者特権での信頼モードで実行できるようになります。 Configuration Manager はこの署名証明書を自動的に管理します。 サービスの継続性を高めるため、この Microsoft 署名証明書を手動で削除または移動しないでください。  

> [!WARNING]  
>  クライアント設定 **[Silverlight アプリケーションが管理者特権での信頼モードで実行されることを許可する]** が有効な場合、コンピューター ストアまたはユーザー ストアの信頼される発行元の証明書ストアの証明書で Silverlight アプリケーションが署名されていれば、管理者特権での信頼モードで実行できます。 このクライアント設定は、Configuration Manager アプリケーション カタログのため、またはコンピューター ストアの信頼される発行元の証明書ストアのためにのみ、管理者特権での信頼モードを有効にすることができません。 マルウェアによって、信頼される発行元のストアに不正な証明書が追加されると、Silverlight アプリケーションを所有し、使用するマルウェアが、管理者特権での信頼モードで実行される可能性があります。  

 **[Silverlight アプリケーションが管理者特権での信頼モードで実行されることを許可する]** 設定を **[いいえ]** に設定しても、クライアントは Microsoft 署名証明書を削除しません。  

 Silverlight の信頼されるアプリケーションの詳細については、「[Trusted Applications](https://go.microsoft.com/fwlink/p/?LinkId=252842)」 (信頼されるアプリケーション) を参照してください。  



##  <a name="privacy-information-for-application-management"></a>アプリケーション管理に関するプライバシー情報  

 アプリケーション管理を使用して、階層内の任意のクライアントで、任意のアプリケーション、プログラム、またはスクリプトを実行することができます。 Configuration Manager は、ユーザーが実行するアプリケーション、プログラム、またはスクリプトについても、送信する情報の種類についても制御しません。 アプリケーションの展開プロセス中、Configuration Manager は、デバイスとサインイン アカウントを識別する情報をクライアントとサーバーの間で送信することがあります。  

 Configuration Manager は、ソフトウェアの展開プロセスに関するステータス情報を維持します。 クライアントが HTTPS を使用して通信する場合を除き、ソフトウェア展開のステータス情報は送信時に暗号化されません。 ステータス情報は、暗号化された形式でデータベースに格納されるわけではありません。  

 ソフトウェアのソフトウェア ライセンス条項によっては、Configuration Manager アプリケーション インストールを使用して、クライアントにソフトウェアをリモート インストール、対話型インストール、およびサイレント インストールできない場合があります。 これは、System Center Configuration Manager のソフトウェア ライセンス条項とは別です。 Configuration Manager を使用してソフトウェアを展開する前に、常にソフトウェア ライセンス条項を確認して同意してください。  

 Configuration Manager では、アプリケーションについての診断および使用状況データが収集されます。このデータは、今後のリリースで機能を向上させるために Microsoft によって使用されます。 詳細については、「[診断結果と使用状況データ](/sccm/core/plan-design/diagnostics/diagnostics-and-usage-data)」を参照してください。

 アプリケーションの展開は、既定で行われることはなく、いくつかの構成手順を実行する必要があります。  

 以下の機能は、効率的なソフトウェア展開に役立ちます。   

- **ユーザーとデバイスのアフィニティ**は、ユーザーをデバイスにマップします。 Configuration Manager 管理者は、ソフトウェアをユーザーに展開します。 クライアントは、ユーザーが最もよく使用する 1 つ以上のコンピューターにソフトウェアを自動的にインストールします。  

- **アプリケーション カタログ**は、インストールするソフトウェアをユーザーが要求できる Web サイトです。  

    > [!Note]  
    > Configuration Manager 1802 以降では、アプリケーション カタログの主な機能はソフトウェア センターに含まれるようになりました。 詳しくは、「[ソフトウェア センターの構成](/sccm/apps/plan-design/plan-for-and-configure-application-management#bkmk_userex)」をご覧ください。  

- Configuration Manager クライアントをインストールすると、**ソフトウェア センター**がデバイスに自動的にインストールされます。 ユーザーはソフトウェア センターから設定を変更し、アプリケーションを参照して、アプリケーションをインストールします。  

  [ユーザーとデバイスのアフィニティ](#bkmk_privacy-uda)および[ソフトウェア センターとアプリケーション カタログ](#bkmk_privacy-userex)のプライバシー情報については、以降のセクションを参照してください。  

  アプリケーション管理を構成する前に、プライバシー要件について検討してください。  


### <a name="bkmk_privacy-uda"></a> ユーザーとデバイスのアフィニティ  

-  Configuration Manager は、クライアントと管理ポイント サイト システム間で情報を送信します。 この情報によりコンピューター、サインイン アカウント、サインイン アカウントの使用状況の概要がわかる場合があります。  

-  HTTPS を使用してクライアントが通信するように管理ポイントが構成されている場合を除き、クライアントとサーバーの間で送信される情報は暗号化されません。  

-  ユーザーをデバイスにマップするために使用されるコンピューター アカウントとサインイン アカウントの使用状況情報は、クライアント コンピューターに保存され、管理ポイントに送信されてから Configuration Manager データベースに保存されます。 古い情報は、既定では 90 日後にデータベースから削除されます。 削除動作を構成するには、**[期限切れのユーザーとデバイスのアフィニティ データを削除]** サイトのメンテナンス タスクを設定します。  

-  Configuration Manager は、ユーザーとデバイスのアフィニティに関するステータス情報を維持します。 HTTPS を使用して管理ポイントと通信するようにクライアントが構成されている場合を除き、ステータス情報は送信時に暗号化されません。 ステータス情報は、暗号化された形式でデータベースに格納されるわけではありません。  

-  コンピューターとサインインの使用状況情報は、ユーザーとデバイスのアフィニティを確立するために使用されるため、常に有効になっています。 ユーザーと管理ユーザーは、ユーザーとデバイスのアフィニティ情報を提供できます。  


### <a name="bkmk_privacy-userex"></a> ソフトウェア センターとアプリケーション カタログ  

-  ソフトウェア センターとアプリケーション カタログを使用して、Configuration Manager 管理者はユーザーが実行する任意のアプリケーションやプログラム、またはスクリプトを公開できます。 Configuration Manager は、カタログで公開されるプログラムやスクリプトの種類についても、送信する情報の種類についても制御しません。  

-  Configuration Manager は、クライアントとアプリケーション カタログ サイト システムの役割の間で情報を送信することがあります。 この情報は、コンピューターとサインイン アカウントを識別する場合があります。 HTTPS を使用してクライアントが接続するようにサイト システムの役割が構成されている場合を除き、クライアントとサーバーの間で送信される情報は暗号化されません。  

-  アプリケーション承認要求に関する情報は、Configuration Manager データベースに保存されます。 取り消されたか拒否された要求や、それに対応する要求の履歴エントリは、既定で 30 日後に削除されます。 削除動作を構成するには、**[期限切れのアプリケーション要求データの削除]** サイトのメンテナンス タスクを設定します。 承認済み状態または保留状態のアプリケーション承認要求は削除されません。  

-  Configuration Manager クライアントをデバイスにインストールすると、ソフトウェア センターが自動的にインストールされます。  

-  既定では、アプリケーション カタログはインストールされません。 インストールにはいくつかの構成手順が必要です。  
