---
title: 適用性ルール
titleSuffix: Configuration Manager
description: System Center Updates Publisher の適用性ルールを管理する
ms.date: 4/29/2017
ms.prod: configuration-manager
ms.technology: configmgr-sum
ms.topic: conceptual
ms.assetid: 3cf0c2cd-397a-4622-b11c-961f334fb7d7
author: aczechowski
ms.author: aaroncz
manager: dougeby
robots: NOINDEX, NOFOLLOW
ms.openlocfilehash: 280dd3da96b0c408f7c75fb7ef0a046ae0343765
ms.sourcegitcommit: 48098f9fb2f447672bf36d50c9f58a3d26acb9ed
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/14/2018
ms.locfileid: "53421418"
---
# <a name="manage-applicability-rules-in-updates-publisher"></a>Updates Publisher 内で適用性ルールを管理する

*適用対象:System Center Updates Publisher*

Updates Publisher では、適用性ルールは、デバイスが更新プログラムをインストールする前に満たす必要がある要件を定義します。 ルールは、コンピューターに更新プログラムがインストールされているかどうかを判別するためにも使用されます。 複数の部分で構成されている複雑な適用性ルールは、ルール セットと呼ばれます。

更新プログラム バンドルでは、適用性ルールを使用しません。

## <a name="overview-of-applicability-rules"></a>適用性ルールの概要
適用性ルールは、**[Rules Workspace]\(ルール ワークスペース)** から管理します。 ルールを作成するときに、1 つまたは複数の条件を指定します。 複数の条件を指定するときは、順番に評価されるか、論理 **[And]\ (積)** または **[Or]\ (和)** ステートメントで結合されように、条件間のリレーションシップを構成できます。

たとえば、次に示すのは 3 つのルールが含まれているルール セットです。 最初のルールで *MyFile* ファイルが存在していることを確認し、2 番目と 3 番目のルールで、Windows オペレーティング システムの言語が英語または日本語であることを確認します。

    And  
      File ‘\[PROGRAM\_FILES\] \\Microsoft\\MyFile’ exists  
      Or  
        Windows Language is English   
        Windows Language is Japanese

すべての更新プログラムに、少なくとも 1 つの適用性ルールが必要です。 インポートする更新プログラムには既に適用性ルールが適用され、独自の更新プログラムを作成するときは、1 つまたは複数のルールを追加する必要があります。 Updates Publisher で任意の更新プログラムのルールを変更および拡張できます。

作成したルールを表示するには、**[Rules Workspace]\(ルール ワークスペース)** で、**[My saved rules]\(マイ保存済みルール)** ボックスの一覧からルールを選択します。 このルールの個別の条件と論理演算子がコンソールの **[適用性ルール]** ウィンドウに表示されます。 インポートする更新プログラムのルールは、この更新プログラムを編集するときにのみ表示および変更できます。

ルールは、Updates Publisher の 2 つの場所で作成できます。

-   **[Rules Workspace]\(ルール ワークスペース)**  では、ルール セットを作成および**保存**して後で使用できます。 更新プログラムを編集または作成するときに、**[ルールの種類]** として **[Saved rule]\(保存済みルール)** を選択してから、事前に作成したルール セットの一覧から選択できます。

-   更新プログラムを作成または編集するときに新しいルールを作成することもできます。 この方法で作成したルールは、将来の使用のために保存されません。

## <a name="create-applicability-rule"></a>適用性ルールを作成する
次の情報は、[Create Update (更新プログラムの作成) ウィザード](/sccm/sum/tools/create-updates-with-updates-publisher#the-create-update-wizard)内からルールを作成する方法と似ています。 ただし、ウィザードとは異なり、将来使用するためにルール セットを保存するオプションがあります。

1. **[Rules Workspace]\(ルール ワークスペース)** で、**[作成]** を選択して、**ルールの作成**ウィザードを開きます。

2. ルールの名前を指定し、![[新しいルール]](media/newrule.png) をクリックします。 **[適用性ルール]** ページが開いてルールを構成できます。

3. **[ルールの種類]** で、次のいずれかを選択します。 構成する必要のあるオプションは、種類ごとに異なります。

   - **[ファイル]**: この更新プログラムを適用する前に、指定した 1 つまたは複数の条件を満たすプロパティを格納したファイルをデバイスが持つことを要求するには、このルールを使用します。

   - **[レジストリ]**: この種類は、この更新プログラムをデバイスにインストールするには、レジストリに存在している必要がある詳細を指定するために使用します。

   - **[システム]**: このルールでは、システムの詳細を使用して適用性を判別します。 Windows のバージョン、Windows の言語、プロセッサ アーキテクチャを定義するか、デバイスのオペレーティング システムを識別するために WMI クエリを指定するかを選択できます。

   - **[Windows インストーラー]**: インストール済みの .MSI または Windows インストーラー修正プログラム (.MSP) に基づいて適用性を判別するには、このルールの種類を使用します。 要件の一部として特定のコンポーネントまたは機能がインストールされているかどうかも判別できます。

     > [!IMPORTANT]   
     > 管理デバイスでは、ユーザーごとにインストールされている Windows インストール パッケージを Windows 更新エージェントによって検出できません。 このルールの種類を使用する場合は、ユーザーごとなのかシステムごとなのかに関係なく Windows インストーラー パッケージを正しく検出できるように、ファイル バージョンやレジストリ キー値など、追加の適用性ルールを構成してください。

   - **[Saved rule]\(保存済みルール)**: このオプションでは、以前に構成して保存したルールを検索して使用できます。

4. 必要に応じて他のルールの追加と構成を続行します。

5. さまざまなルールの順序を指定し、グループ化してさらに複雑な前提条件チェックを作成するには、論理演算子ボタンを使用します。

6. ルール セットが完了したら、**[OK]** をクリックして保存します。 これで、**[My saved rules]\(マイ保存済みルール)** ボックスの一覧にこのルール セットが表示されるようになりました。

## <a name="edit-applicability-rule-sets"></a>適用性ルール セットを編集する
適用性ルールを編集するには、**[Rules Workspace]\(ルール ワークスペース)** で **[My saved rules]\(マイ保存済みルール)** ボックスの一覧に保存されている任意のルールを選択し、リボンの **[編集]** を選択します。 **ルールの編集**ウィザードが開きます。

**ルールの編集**ウィザードには、ルール セットの現在のルールが表示されます。 **ルールの作成**ウィザードで新しいルールを作成するときと同じ方法でルールを編集します。 このウィザードを使用して、ルール セットの名前の変更、ルールの削除、ルールおよびリレーションシップの順序変更、または新しいルールの追加を行うことができます。

変更を行った後は、**[OK]** を選択して変更を保存し、ウィザードを閉じます。

ルール ウィザードの使用に関する詳細については、**手順 7**、[Create Update (更新プログラムの作成) ウィザードド](/sccm/sum/tools/create-updates-with-updates-publisher#the-create-update-wizard)の [適用性] ページを参照してください。

## <a name="delete-applicability-rules"></a>適用性ルールの削除
保存済みの適用性ルールを削除するには、**[Rules Workspace]\(ルール ワークスペース)** で **[My saved rules]\(マイ保存済みルール)** ボックスの一覧からルールまたはルール セットを選択し、リボンの **[削除]** を選択します。 保存済みルールまたはルール セットが Updates Publisher から削除されます。

特定の更新プログラムからルールを削除するには、[更新プログラムを編集](/sccm/sum/tools/manage-updates-with-updates-publisher#edit-updates-and-bundles)する必要があります。
