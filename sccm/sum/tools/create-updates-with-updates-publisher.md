---
title: 更新プログラムを作成する
titleSuffix: Configuration Manager
description: System Center Updates Publisher を使用してソフトウェア更新プログラムを作成およびバンドルする
ms.date: 4/29/2017
ms.prod: configuration-manager
ms.technology: configmgr-sum
ms.topic: conceptual
ms.assetid: 46a1a8ac-126c-4ee6-ae09-32dfbdb83368
author: aczechowski
ms.author: aaroncz
manager: dougeby
robots: NOINDEX, NOFOLLOW
ms.openlocfilehash: 8fb06e43139538d8f5599ce3696b99fbf14cb5a3
ms.sourcegitcommit: 48098f9fb2f447672bf36d50c9f58a3d26acb9ed
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/14/2018
ms.locfileid: "53423839"
---
# <a name="create--software-updates-and-update-bundles-with-updates-publisher"></a>Updates Publisher を使用してソフトウェア更新プログラムおよび更新プログラムのバンドルを作成する

*適用対象:System Center Updates Publisher*

Updates Publisher を使用すると、**Create Update (更新プログラムの作成)** ウィザードを使用して、独自の更新プログラムを作成でき、**Create Bundle (バンドルの作成)** ウィザードを使用して、更新プログラムのバンドルを作成できます。

これら 2 つのウィザードのワークフローは似ているため、更新プログラムのバンドルを作成する手順では、更新プログラムを作成する手順を参照し、相違点のみを必要に応じて詳述してあります。

## <a name="use-the-create-update-wizard"></a>Create Update (更新プログラムの作成) ウィザードの使用
1. コンソールで **[更新プログラム ワークスペース]** に移動し、**[はじめに]** ウィンドウで、リボンの **[ホーム]** タブで **[更新]** をクリックします。 **Create Update (更新プログラムの作成)** ウィザードが開きます。

2. **[パッケージ]** ページで、次の情報を使用して更新プログラムを構成できます。

   -   **[参照]** をクリックして、パッケージ ソースとして使用するソフトウェア更新プログラム パッケージを検索します。 有効なソースとしては、.MSI、.MSP、または .EXE ファイルがあります。 Updates Publisher でファイルのハッシュを作成するには、ファイルにアクセスする必要があります。 ハッシュとファイル名は、作成する更新プログラムの更新プログラムのメタデータで使用されます。

   -   この更新プログラムのコンテンツのソースの場所を指定します。 通常は、WSUS サーバーへの発行中に更新プログラムのバイナリがダウンロードされる場所です。  **[Use a local source to publish software update content]\(ローカル ソースを使用してソフトウェア更新プログラム コンテンツを発行する\)** オプションがオンの場合、このパスは必須ではありません。

       後で、更新プログラムが WSUS サーバーに発行されると、Updates Publisher では、指定されたソースの場所から更新プログラムのバイナリ ファイルをダウンロードします。  パスが指定されていない場合、Update Publisher では更新プログラム バイナリの[ローカル ソース発行パス](/sccm/sum/tools/updates-publisher-options#advanced)が検索されます。

   -   ソフトウェア更新プログラムの **[Binary language]\(バイナリ言語)** を指定します。

   -   更新プログラムの **[Success return codes]\(成功リターン コード)** および **[Success pending reboot codes]\(成功保留中再起動コード)** を指定します。 複数のリターン コードは、コンマ (,) で区切ります。 更新プログラムのインストールが成功した場合と、再起動が必要である場合を判別するために、リターン コードを使用できます。

       -   Windows インストーラー ファイルと修正プログラム (.MSI ファイルと .MSP ファイル) ではこれらの値が自動的に設定され、変更できません。

       -   .EXE 形式の更新プログラムでリターン コードが指定されていない場合は、.EXE ファイルによって定義されている既定のコードが使用されます。

   -   ソフトウェア更新プログラムのインストールに必要なすべてのコマンドライン引数を指定します。

       -   Windows インストーラー ファイルと修正プログラム (.MSI ファイルと .MSP ファイル) ではこれらの値が自動的に設定されます。 これらのファイルの種類の場合、引数は、**\[名\]=\[値\]** として指定する必要があります。 さらに、**/** で始まるすべてのオプション (**/qn** など) は .MSI または .MSP 形式のソフトウェア更新プログラムではサポートされていません。

       -   .EXE 形式の更新プログラムでは、すべての引数が有効です。

3. **[情報]** ページで、更新プログラムが発行またはエクスポートされるときに含められる更新プログラムに関する詳細を指定します。 詳細には、更新プログラムの名前 (タイトル) や説明など、ローカライズされたプロパティが含まれます。 次に、分類、ベンダー、製品、更新プログラムの詳細説明が提供されている場所など、より一般的な詳細を指定します。

    __ローカライズされたプロパティ:__

   - **[言語]**:言語を選択し、タイトルと説明を指定します。 次に、追加の言語を 1 つずつ追加し、各言語で独自のタイトルや説明をサポートできます。

   - **[タイトル]**:更新プログラムの名前を入力します。 この名前は、Updates Publisher コンソールの [更新プログラム ワークスペース] に表示されます。

   - **説明**:更新プログラムのわかりやすい説明です。 更新プログラムによってインストールされる対象、使用する理由と状況などを含めることができます。

     **[分類]**:さまざまな分類の一般的な説明を次に示します。

   - **[更新]**:現在インストールされているアプリケーションまたはファイルの更新です。

   - **[重要]**:セキュリティには関係しない重要な不具合に対応する特定の問題に対して、広範にリリースされた更新です。

   - **[Feature Pack]**:製品リリースに先立って配布され、通常は次回の製品版リリースに含まれる、製品の新機能です。

   - **[セキュリティ]**:製品固有でセキュリティに関係する問題に対して、広範にリリースされた更新です。

   - **[更新プログラムのロールアップ]**:容易に展開できるようにパッケージにまとめられた修正プログラムを累積したセットです。 これらの修正プログラムには、セキュリティの更新プログラム、重要な更新プログラム、更新プログラムなどが含まれています。 更新プログラムのロールアップは、通常セキュリティまたは製品機能など特定の領域に対応します。

   - **[Service Pack]**:アプリケーションに適用される修正プログラムを累積したセットです。 これらの修正プログラムには、セキュリティの更新プログラム、重要な更新プログラム、ソフトウェア更新プログラムなどが含まれています。

   - **[ツール]**:1 つまたは複数のタスクを完了するために役立つツールまたは機能を示します。

     -   **[ドライバー]**:ドライバー ソフトウェアの更新プログラムです。

   **[ベンダー]**:更新プログラムのベンダーを指定します。 ドロップダウン リストを使用して、リポジトリにある更新プログラムの値を使用できます。 ベンダーを指定すると、**[更新プログラム ワークスペース]** の **[All Software Updates]\(すべてのソフトウェア更新プログラム)** の下にこのベンダー名のフォルダーがまだ存在しない場合は、ウィザードによってこのベンダー名のフォルダーが作成されます。 Windows Server Update Services (WSUS) の予約名になっており、更新プログラムを作成するときに入力できない名前を次に示します。
   >*   Microsoft Corporation
   >*   Microsoft
   >*   更新
   >*   ソフトウェア更新プログラム
   >*   ［ツール］
   >*   ツール
   >*   重要
   >*   重要な更新プログラム
   >*   セキュリティ
   >*   セキュリティ更新プログラム
   >*   機能パック
   >*   更新プログラムのロールアップ
   >*   サービス パック
   >*   ドライバー
   >*   ドライバーの更新
   >*   バンドル
   >*   バンドルの更新

**[製品]**:更新プログラムが適用される製品の種類を指定します。 ドロップダウン リストを使用して、リポジトリにある更新プログラムの値を使用できます。 **[ベンダー]** に使用できない WSUS 予約名のリストにある名前は、**[製品]** でも使用できません。

 **[More info URL]\(詳細情報の URL)**:この更新プログラムの詳細を検索できる URL を指定します。 この URL を入力するときの **https** または **http** には小文字を使用する必要があります。

4. **[Optional Info]\(省略可能な情報)** ページで、更新プログラムに関する追加情報を提供する詳細を構成できます。

   -   **[セキュリティ情報 ID]**:セキュリティ情報 ID は常にではありませんが、通常は更新プログラム ベンダーによって提供されます。

   -   **[記事 ID]**:ソフトウェア更新プログラムの記事が利用可能な場合、[記事 ID] は更新プログラムに関する追加情報を検索する個人にとって便利です。

   -   **[CVE ID]**:更新プログラムまたは更新プログラム バンドルに関するセキュリティ情報を提供する 1 つまたは複数の共通脆弱性識別子 (CVE) のリストです。 複数をリストするときは、この例のようにセミコロンを使用して CVE を区切ります。*CVE1;CVE2*

   -   **[サポートの URL]**:利用可能な場合は、この更新プログラムのサポート情報を含む URL をリストします。 この URL を入力するときの **https** または **http** には小文字を使用する必要があります。

   -   **[重要度]**:この更新プログラムの重要度レベルを設定します。

   -   **[影響]**:次のオプションを使用して影響を指定できます。
       -   **[ノーマル]**: これを使用して、一般的なインストール手順が必要な更新プログラムを示します。
       -   **[マイナー]**: これを使用して、最小限のインストール手順が必要な更新プログラムを示します。
       -   **[Requires exclusive handling]\(排他的な処理が必要)**: この更新プログラムはこれのみで、他の更新プログラムとは排他的にインストールする必要があることを示すために使用します。   <br /><br />

   -   **[再起動の動作]**:更新プログラムの再起動の動作に関する情報を提供するために使用します。 この設定によって、更新プログラムをインストールするときの実際の動作が変わることはありません。

       -   **[Never reboots]\(再起動なし)**:ソフトウェア更新プログラムをインストールした後、コンピューターでシステムの再起動を実行することはありません。
       -   **[Always requires reboot]\(常に再起動が必要)**:ソフトウェア更新プログラムをインストールした後、コンピューターは常にシステムの再起動を実行します。
       -   **[Can request reboot]\(再起動を要求する場合あり)**:ソフトウェア更新プログラムをインストールした後、コンピューターは再起動が必要な場合にのみシステムの再起動を要求します。 ユーザーは、後で再起動することを選択できます。 これは既定値です。 <br /><br />

5. **[前提条件]** ページで、この更新プログラムをインストールする前に、コンピューターにインストールする必要のある前提条件を指定します。 前提条件は **detectoid** または他の更新プログラムの可能性があります。 detectoid は、コンピューターの CPU が 64 ビット プロセッサであることを必要とするなどの高度なルールです。 detectoid では、この更新プログラムをインストールする前にインストールする必要がある特定の更新プログラムも指定できます。

   -   パフォーマンスを向上するためには、同じチェックまたは操作を実行する *[インストール可能]* と *[installed rules]\(インストールしたルール)* を作成する代わりに detectoid を使用します。

   **[Available software updates and detectoid]\(利用可能なソフトウェア更新プログラムと detectoid\)** の検索オプションを使用すると特定の detectoid を探すのに役立ちます。 たとえば、特定の CPU アーキテクチャに基づいてインストールを制限できる detectoid を検索するには、**[CPU]** で検索します。

   一度に 1 つまたは複数の項目を選択して前提条件として追加できます。 前提条件を追加する際、選択した detectoid は 1 つまたは複数のグループとして追加されます。 コンピューターがインストール要件を満たすには、構成する各グループで少なくとも 1 つのメンバーの要件を満たす必要があります。

   -   **[Add Prerequisite]\(前提条件の追加)** をクリックすると、選択したすべての項目が別々の個別グループに追加されます。 コンピューターをこの更新プログラムの対象にするためには、このグループの前提条件を満たしたうえで、構成されている他のすべてのグループによる要件を満たす必要があります。

   -   **[グループの追加]** をクリックすると、選択したすべての項目が 1 つのグループに追加されます。 コンピューターをこの更新プログラムの対象にするためには、このグループの前提条件を少なくとも 1 つ満たしたうえで、構成されている他のすべてのグループによる要件を満たす必要があります。

6. **[置き換え]** ページで、この更新プログラムによって置き換えられる更新プログラムを指定します。 この更新プログラムを発行すると、置き換えられる各更新プログラムは Configuration Manager によって **[期限切れ]** とマークされます。 そうすると、クライアントでは、置き換えられた更新プログラムではなく、この更新プログラムをインストールします。

7. **[Applicability]\(適用性)** ページで、**[ルール エディター]** を使用して、デバイスにこの更新プログラムが必要かどうかを判別するルールのセットを定義します。 (このページは、それに続く **[インストール済み]** ページに似ています)。

   新しいルールを追加するには、 ![[新しいルール] をクリックします](media/newrule.png)。 [適用性ルール] ページが開いてルールを構成できます。

   作成できるルールの種類は次のとおりです。

   -   **[ファイル]**: この更新プログラムを適用する前に、指定した 1 つまたは複数の条件を満たすプロパティを格納したファイルをデバイスが持つことを要求するには、このルールを使用します。

   -   **[レジストリ]**: この種類は、この更新プログラムをデバイスにインストールするには、レジストリに存在している必要がある詳細を指定するために使用します。

   -   **[システム]**: このルールでは、システムの詳細を使用して適用性を判別します。 Windows のバージョン、Windows の言語、プロセッサ アーキテクチャを定義するか、デバイスのオペレーティング システムを識別するために WMI クエリを指定するかを選択できます。

   -   **[Windows インストーラー]**: インストール済みの .MSI または Windows インストーラー修正プログラム (.MSP) に基づいて適用性を判別するには、このルールの種類を使用します。 要件の一部として特定のコンポーネントまたは機能がインストールされているかどうかも判別できます。

       > [!IMPORTANT]  
       > 管理デバイスでは、ユーザーごとにインストールされている Windows インストール パッケージを Windows 更新エージェントによって検出できません。 このルールの種類を使用する場合は、ユーザーごとなのかシステムごとなのかに関係なく Windows インストーラー パッケージを正しく検出できるように、ファイル バージョンやレジストリ キー値など、追加の適用性ルールを構成してください。

   -   **[Saved rule]\(保存済みルール)**: このオプションでは、*[Rules Workspace]\(ルール ワークスペース) で作成した*ルールを検索して使用できます。

       ルールを作成した後で、他のアイコンを使用してルールを変更でき、複数のルールがある場合、それらのルールの間のリレーションシップを定義できます。

   ルールの作成と追加を完了したら、**[Create Rule Set]\(ルール セットの作成)** ダイアログ ボックスで **[OK]** をクリックしてセットを保存します。 その後、**[新規]** ルールを作成し、同様にセットに追加できます。

   更新プログラムに追加するルールまたはルール セットが複数ある場合は、**[ルール エディター]** で論理演算子を使用してルール間の条件と処理順序を指定できます。

8. **[インストール済み]** ページで **[ルール エディター]** を使用して、構成中の更新プログラムが既にデバイスにインストールされているかどうかを判別するルールのセットを定義します。 (このページは、このページに先行する **[適用性]** ページに似ています)。

   ウィザードのこのページでは、**[適用性]** ページと同じオプションおよび条件を使用したルールのルールをサポートしています。

   ウィザードが完了すると、新しい更新プログラムが **[更新プログラム ワークスペース]** 内のノードに追加されており、このノードは更新プログラムで使用した **[ベンダー]** と **[製品]** の名前によって識別されています。

## <a name="use-the-create-bundle-wizard"></a>Create Bundle (バンドルの作成) ウィザードの使用
このウィザードは、[Create Update (更新プログラムの作成) ウィザード](#use-the-create-update-wizard)と同じワークフローを使用しているため、そのワークフローを使用しますが、バンドルの場合は次の相違があることに注意してください。

1.  ウィザードを開始するには、コンソールで **[更新プログラム ワークスペース]** に移動し、リボンの **[ホーム]** タブで **[バンドル]** をクリックします。

2.  Create Update (更新プログラムの作成) ウィザードとは異なり、バンドルを作成するときは [パッケージ] ページはありません。

3.  **[情報]** ページで、更新プログラムが発行またはエクスポートされるときに含められる更新プログラム バンドルに関する詳細を指定します。

4.  **[Optional Info]\(省略可能な情報)** ページで、更新プログラム バンドルに関する追加情報を提供する詳細を構成できます。 使用可能なオプションは、更新プログラムを作成する場合と同じです。 ただし、[影響] と [再起動の動作] のオプションはバンドルには適用されないため使用できません。

5.  **[前提条件]** ページで、このバンドルをインストールする前に、コンピューターにインストールする必要のある前提条件を指定します。 これらのルールは、個々の更新プログラムで説明されているルールと同じです。

6.  **[置き換え]** ページで、この更新プログラム バンドルによって置き換えられる更新プログラムを指定します。 これらのルールは、個々の更新プログラムで説明されているルールと同じです。

7.  **[メンバー]** ページで、更新プログラム バンドルに追加する更新プログラムを選択します。 Updates Publisher で作成したかインポートした更新プログラムのみ利用できます。

ウィザードが完了すると、新しい更新プログラム バンドルが **[更新プログラム ワークスペース]** 内のノードに追加されており、このノードは更新プログラム バンドルで使用した **[ベンダー]** 名によって識別されています。
