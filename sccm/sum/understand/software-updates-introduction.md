---
title: ソフトウェア更新プログラムの概要
titleSuffix: Configuration Manager
description: System Center Configuration Manager でのソフトウェア更新プログラムの基礎について説明します。
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.date: 10/30/2017
ms.topic: conceptual
ms.prod: configuration-manager
ms.technology: configmgr-sum
ms.assetid: e9778b13-c8a3-40eb-8655-34ac8ce9cdaa
ms.openlocfilehash: b59d7063cbe1a16dd023466b272d2c1ebea0e5b6
ms.sourcegitcommit: 48098f9fb2f447672bf36d50c9f58a3d26acb9ed
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/14/2018
ms.locfileid: "53424546"
---
# <a name="introduction-to-software-updates-in-system-center-configuration-manager"></a>System Center Configuration Manager のソフトウェア更新プログラムの概要

*適用対象:System Center Configuration Manager (Current Branch)*

System Center Configuration Manager のソフトウェア更新プログラムには、企業のソフトウェア更新プログラムを追跡し、クライアント コンピューターにプログラムを適用する複雑なタスクの管理に役立つツールとリソースのセットが用意されています。 運用効率を維持し、セキュリティ上の問題を解決し、さらにネットワーク インフラストラクチャの安定性を維持するには、効果的なソフトウェア更新プログラムの管理プロセスが必要です。 ただし、テクノロジは常に変化し、新しいセキュリティ上の脅威が絶え間なく出現するために、効果的なソフトウェア更新プログラムの管理には、一貫した継続的な注意が必要です。  

ご使用の環境でのソフトウェア更新プログラムの展開方法を示したサンプル シナリオについては、「[Example scenario to deploy security software updates](../deploy-use/example-scenario-deploy-monitor-monthly-security-updates.md)」(セキュリティ ソフトウェア更新プログラムを展開するためのサンプル シナリオ) を参照してください。  

##  <a name="BKMK_Synchronization"></a> ソフトウェア更新プログラムの同期  
 Configuration Manager でのソフトウェア更新プログラムの同期では、Microsoft Update に接続してソフトウェア更新プログラムのメタデータを取得します。 最上位サイト (中央管理サイトまたはスタンドアロン プライマリ サイト) は、スケジュールに従って、または Configuration Manager コンソールで手動で同期を開始した際に、Microsoft Update と同期します。 Configuration Manager で、最上位サイトでのソフトウェア更新プログラムの同期が完了すると、子サイトでのソフトウェア更新プログラムの同期が開始されます (子サイトが存在する場合)。 各プライマリ サイトまたはセカンダリ サイトで同期が完了すると、クライアント コンピューターにソフトウェアの更新ポイントの場所を通知するサイト全体のポリシーが作成されます。  

> [!NOTE]  
>  ソフトウェア更新プログラムは、既定ではクライアント設定で有効です。 ただし、**[クライアントのソフトウェア更新プログラムを有効にする]** クライアント設定を **[いいえ]** に設定して、コレクションまたは既定の設定でソフトウェア更新プログラムを無効にすると、ソフトウェアの更新ポイントの場所は、関連付けられたクライアントに送信されません。 詳細については、「[software updates client settings](../../core/clients/deploy/about-client-settings.md#software-updates)」(ソフトウェア更新プログラムのクライアント設定) を参照してください。  

 ポリシーを受信した後、クライアントは、ソフトウェア更新プログラムのコンプライアンス対応スキャンを開始し、情報を Windows Management Instrumentation (WMI) に書き込みます。 コンプライアンス情報は、次に管理ポイントに送信され、そこからサイト サーバーに送信されます。 コンプライアンス対応評価の詳細については、このトピックの「 [Software updates compliance assessment](#BKMK_SUMCompliance) 」セクションを参照してください。  

 1 つのプライマリ サイトに複数のソフトウェアの更新ポイントをインストールできます。 インストールする最初のソフトウェアの更新ポイントは、同期ソースとして構成されます。 同期は、Microsoft Update、または、Configuration Manager 階層内にない WSUS サーバーから行われます。 サイトのその他のソフトウェアの更新ポイントは、最初のソフトウェアの更新ポイントを同期ソースとして使用します。  

> [!NOTE]  
>  最上位のサイトでソフトウェア更新プログラムの同期プロセスが完了すると、データベースのレプリケーションを使用して、ソフトウェア更新プログラムのメタデータが子サイトにレプリケートされます。 子サイトに Configuration Manager コンソールを接続すると、Configuration Manager にソフトウェア更新プログラムのメタデータが表示されます。 ただし、サイトでソフトウェアの更新ポイントをインストールして構成するまで、クライアントはソフトウェア更新プログラムのコンプライアンス対応スキャンを実行せず、Configuration Manager にコンプライアンス情報をレポートしません。また、ソフトウェア更新プログラムを正常に展開できません。  

### <a name="synchronization-on-the-top-level-site"></a>最上位サイトでの同期  
 最上位サイトでのソフトウェア更新プログラムの同期プロセスでは、[ソフトウェアの更新ポイント コンポーネント] プロパティで指定した条件に合ったソフトウェア更新プログラムのメタデータを、Microsoft Update から取得します。 この条件は、最上位サイトでのみ構成します。  

> [!NOTE]  
>  Microsoft Update の代わりに、Configuration Manager 階層にない既存の WSUS サーバーを同期ソースとして指定できます。  

 次の一覧では、最上位サイトでの同期プロセスの基本的な手順について説明します。  

1.  ソフトウェア更新プログラムの同期が開始されます。  

2.  WSUS 同期マネージャーが、ソフトウェアの更新ポイントで実行されている WSUS に対し、Microsoft Update との同期を開始するように要求を送信します。  

3.  ソフトウェア更新プログラムのメタデータが Microsoft Update から同期され、すべての変更が WSUS データベースに挿入または更新されます。  

4.  WSUS で同期が完了すると、WSUS 同期マネージャーが、ソフトウェア更新プログラムのメタデータと、前回の同期でサイト データベースに挿入または更新された後に行われたすべての変更を、WSUS データベースから Configuration Manager データベースに同期します。 ソフトウェア更新プログラムのメタデータは、構成項目としてサイト データベースに保存されます。  

5.  ソフトウェア更新プログラムの構成項目は、データベースのレプリケーションを使用して子サイトに送信されます。  

6.  同期が正常に完了すると、WSUS 同期マネージャーはステータス メッセージ 6702 を作成します。  

7.  WSUS 同期マネージャーがすべての子サイトに同期要求を送信します。  

8.  WSUS 同期マネージャーは、サイトのその他のソフトウェアの更新ポイントで実行されている WSUS に、一度に 1 つの要求を送信します。 その他のソフトウェアの更新ポイントの WSUS サーバーは、サイトの既定のソフトウェアの更新ポイントで実行されている WSUS のレプリカとして構成されています。  

### <a name="synchronization-on-child-primary-and-secondary-sites"></a>子プライマリ サイトとセカンダリ サイトでの同期  
 最上位のサイトでソフトウェア更新プログラムの同期プロセス中、データベースのレプリケーションを使用して、ソフトウェア更新プログラムの構成項目が子サイトにレプリケートされます。 処理の最後に、最上位のサイトが子サイトに同期要求を送信し、子サイトが WSUS 同期を開始します。 次のリストでは、子プライマリ サイトまたはセカンダリ サイトでの同期プロセスの基本的な手順について説明します。  

1.  WSUS 同期マネージャーは、最上位のサイトから同期要求を受信します。  

2.  ソフトウェア更新プログラムの同期が開始されます。  

3.  WSUS 同期マネージャーがソフトウェアの更新ポイントで実行されている WSUS に対し、Microsoft Update との同期を開始するように要求を作成します。  

4.  子サイトのソフトウェア更新ポイントで実行されている WSUS が、親サイトのソフトウェア更新ポイントで実行されている WSUS からソフトウェア更新プログラムのメタデータを同期します。  

5.  同期が正常に完了すると、WSUS 同期マネージャーはステータス メッセージ 6702 を作成します。  

6.  プライマリ サイトから、WSUS 同期マネージャーがすべての子セカンダリ サイトに同期要求を送信します。 セカンダリ サイトは、親プライマリ サイトとのソフトウェア更新プログラムの同期を開始します。 セカンダリ サイトは、親サイトで実行されている WSUS のレプリカとして構成されています。  

7.  WSUS 同期マネージャーは、サイトのその他のソフトウェアの更新ポイントで実行されている WSUS に、一度に 1 つの要求を送信します。 その他のソフトウェアの更新ポイントの WSUS サーバーは、サイトの既定のソフトウェアの更新ポイントで実行されている WSUS のレプリカとして構成されています。  

##  <a name="BKMK_SUMCompliance"></a> Software updates compliance assessment  
 ソフトウェアの更新プログラムを Configuration Manager 内のクライアント コンピューターに展開する前に、クライアント コンピューター上でソフトウェア更新プログラムのコンプライアンス対応状態のスキャンを開始します。 ソフトウェア更新プログラムごとに、コンプライアンス対応状態を示す状態メッセージが作成されます。 状態メッセージは一括して管理ポイントに送信されてからサイト サーバーに送信され、そこでコンプライアンス対応状態がサイト データベースに挿入されます。 ソフトウェア更新プログラムのコンプライアンス対応状態が Configuration Manager コンソールに表示されます。 更新プログラムが必要なコンピューターでソフトウェア更新プログラムを展開してインストールできます。 次の各セクションには、コンプライアンス対応状態に関する情報を示し、ソフトウェア更新プログラムのコンプライアンス対応のスキャン手順について説明します。  

### <a name="software-updates-compliance-states"></a>ソフトウェア更新プログラムのコンプライアンス対応状態  
 次の表に、Configuration Manager コンソールに表示される、ソフトウェア更新プログラムの各対応状態とその説明を示します。  

-   **必須**  

     ソフトウェア更新プログラムが適用可能で、クライアント コンピューターで必須であることを指定します。 ソフトウェア更新プログラムの状態が **[必須]** である場合、次の状況のいずれかに該当します。  

    -   クライアント コンピューターにソフトウェア更新プログラムが展開されていない。  

    -   クライアント コンピューターにソフトウェア更新プログラムがインストールされているが、 サイト サーバーのデータベースに最新の状態メッセージがまだ挿入されていない。 インストールが完了した後、クライアント コンピューターが更新プログラムを再スキャンする。 更新された状態がクライアントから管理ポイントに送信されるまで、最大 2 分の遅延が発生する可能性があり、その後、更新された状態がサイト サーバーへと転送されます。  

    -   クライアント コンピューターにソフトウェア更新プログラムがインストールされているが、 ソフトウェア更新プログラムのインストールを完了するには、コンピューターを再起動する必要がある。  

    -   ソフトウェア更新プログラムがクライアント コンピューターに展開されたが、まだインストールされていない。  

-   **必要なし**  

     ソフトウェア更新プログラムがクライアント コンピューターで適用可能でないことを指定します。 このため、ソフトウェア更新プログラムは不要です。  

-   **インストール済み**  

     クライアント コンピューターがソフトウェア更新プログラムの適用対象で、クライアント コンピューターには既にソフトウェア更新プログラムがインストールされていることを示します。  

-   **不明**  

     サイト サーバーがクライアント コンピューターから状態メッセージを受信していないことを示します。一般に、次のいずれかの原因が考えられます。  

    -   クライアント コンピューターでソフトウェア更新プログラムのコンプライアンス対応を正常にスキャンできなかった。  

    -   クライアント コンピューターでのスキャンは正常に完了したが、 おそらく状態メッセージのバックログのため、サイト サーバー上で状態メッセージがまだ処理されていない。  

    -   クライアント コンピューターでのスキャンは正常に完了したが、状態メッセージが子サイトからまだ受信されていない。  

    -   クライアント コンピューターでのスキャンは正常に完了したが、何らかの操作で状態メッセージ ファイルが破れ、処理できなかった。  

### <a name="scan-for-software-updates-compliance-process"></a>ソフトウェア更新プログラムのコンプライアンス対応のスキャン手順  
 ソフトウェアの更新ポイントがインストールおよび同期されている場合、Configuration Manager ソフトウェア更新プログラムがサイトで有効になったことをクライアント コンピューターに通知する、サイト全体のコンピューター ポリシーが作成されます。 クライアントがコンピューター ポリシーを受信すると、コンプライアンス対応評価スキャンが次の 2 時間以内にランダムで開始するようスケジュールされます。 スキャンが開始されると、ソフトウェアの更新クライアント エージェントはスキャン履歴をクリアし、スキャンで使用すべき WSUS サーバーを探す要求を送信して、WSUS サーバーの場所をローカルのグループ ポリシーで更新します。  

> [!NOTE]  
>  インターネット ベースのクライアントは、SSL を使用して WSUS に接続する必要があります。  

 スキャン要求は、Windows Update エージェント (WUA) に渡されます。 その後、WUA はローカル ポリシーの一覧にある WSUS サーバーの場所に接続し、WSUS サーバー上で同期したソフトウェア更新プログラムのメタデータを取得して、更新プログラムが必要かどうかをクライアント コンピューターでスキャンします。 ソフトウェアの更新クライアント エージェントは、コンプライアンス対応のスキャンが完了したことを検知し、最後にスキャンしたときからコンプライアンス対応状態が変更された各ソフトウェア更新プログラムの状態メッセージを作成します。 状態メッセージは、15 分ごとに一括して管理ポイントに送信されます。 その後、管理ポイントは状態メッセージをサイト サーバーへ転送し、状態メッセージはサイト サーバー データベースへ挿入されます。  

 ソフトウェア更新プログラムのコンプライアンス対応状態の最初のスキャン後は、構成されたスキャン スケジュールに従ってスキャンが開始されます。 ただし、クライアントが有効期限 (TTL) の値で示される時間帯内でソフトウェア更新プログラムのコンプライアンス対応をスキャンした場合、クライアントはローカルに保存されているソフトウェア更新プログラムのメタデータを使用します。 前回のスキャンが TTL 範囲外の場合、クライアントがソフトウェアの更新ポイントで実行されている WSUS に接続して、クライアントに保存されているソフトウェア更新プログラムのメタデータを更新する必要があります。  

 スキャン スケジュールも含め、ソフトウェア更新プログラムのコンプライアンス対応のスキャンは、次の方法で開始できます。  

-   **ソフトウェア更新プログラムのスキャンのスケジュール**:ソフトウェア更新プログラムのコンプライアンス対応のスキャンは、ソフトウェアの更新クライアント エージェント設定で構成されるスキャン スケジュールで指定された時刻に実行されます。 ソフトウェア更新プログラムのクライアント設定の構成方法の詳細については、「[software updates client settings](../../core/clients/deploy/about-client-settings.md#software-updates)」(ソフトウェア更新プログラムのクライアント設定) を参照してください。  

-   **Configuration Manager のプロパティの操作**:ユーザーは、クライアント コンピューターの **[Configuration Manager のプロパティ]** ダイアログ ボックスの **[操作]** タブから **[ソフトウェア更新プログラムのスキャン サイクル]** 操作または **[ソフトウェア更新プログラムの展開評価サイクル]** 操作を開始できます。  

-   **展開の再評価スケジュール**:ソフトウェア更新プログラムのコンプライアンス対応の展開評価とスキャンは、ソフトウェアの更新クライアント エージェント設定で構成される展開再評価スケジュールで指定された時刻に実行されます。 ソフトウェア更新プログラムのクライアント設定の詳細については、「[software updates client settings](../../core/clients/deploy/about-client-settings.md#software-updates)」(ソフトウェア更新プログラムのクライアント設定) を参照してください。  

-   **更新プログラム ファイルのダウンロード前**:クライアント コンピューターが新しい必須の展開の割り当てポリシーを受信すると、ソフトウェア更新クライアント エージェントは、ソフトウェア更新プログラム ファイルをローカル クライアント キャッシュにダウンロードします。 ソフトウェア更新プログラム ファイルをダウンロードする前に、クライアント エージェントは、スキャンを開始し、ソフトウェア更新プログラムがまだ必要であることを確認します。  

-   **ソフトウェア更新プログラムのインストール前**:ソフトウェア更新プログラムをインストールする直前に、ソフトウェア更新クライアント エージェントは、スキャンを開始し、ソフトウェア更新プログラムがまだ必要であることを確認します。  

-   **ソフトウェア更新プログラムのインストール後**:ソフトウェア更新プログラムのインストール直後、ソフトウェア更新クライアント エージェントは、スキャンを開始してソフトウェア更新プログラムが現在必要でないことを確認し、ソフトウェア更新プログラムがインストールされたことを示す新しい状態メッセージを作成します。 インストールの完了後に再起動が必要な場合は、クライアント コンピューターが再起動を保留中であることが状態メッセージに示されます。  

-   **システムの再起動後**:ソフトウェア更新プログラムのインストールを完了するためにクライアント コンピューターがシステムの再起動を保留している場合は、再起動後にソフトウェア更新クライアント エージェントがスキャンを開始してソフトウェア更新プログラムが必要でないことを確認し、ソフトウェア更新プログラムがインストールされたことを示す状態メッセージを作成します。  

#### <a name="time-to-live-value"></a>Time to Live の値  
 ソフトウェアの更新プログラムのコンプライアンス対応のスキャンに必要なソフトウェア更新プログラムのメタデータは、ローカル クライアント コンピューターに保存され、既定で最大 24 時間保持されます。 この値は待機時間 (TTL) とも呼ばれます。  

#### <a name="scan-for-software-updates-compliance-types"></a>ソフトウェア更新プログラムのコンプライアンス対応スキャンの種類  
 クライアントは、ソフトウェア更新プログラムのコンプライアンス対応スキャンが開始された方法により、オンライン スキャンまたはオフライン スキャンおよび強制スキャンまたは非強制スキャンを使用します。 次に、スキャンの開始方法に対応するオンラインとオフラインの別、および強制と非強制の別を示して説明します。  

-   **ソフトウェア更新プログラムのスキャンのスケジュール** (非強制オンライン スキャン)  

     構成済みのスキャン スケジュールに従って、前回のスキャンが TTL 外の場合のみ、クライアントはソフトウェア更新ポイントで実行されている WSUS に接続して、ソフトウェア更新プログラムのメタデータを取得します。  

-   **ソフトウェア更新プログラムのスキャン サイクル**または**ソフトウェア更新プログラムの展開評価サイクル** (強制オンライン スキャン)  

     クライアント コンピューターは常に、ソフトウェア更新プログラムのコンプライアンス対応のスキャンの前に、アクティブなソフトウェアの更新ポイントで実行されている WSUS に接続して、ソフトウェア更新プログラムのメタデータを取得します。 スキャンが完了すると、TTL カウンターがリセットされます。 たとえば、TTL が 24 時間の場合、ユーザーがソフトウェア更新プログラムのコンプライアンス対応のスキャンを開始した後、TTL は 24 時間にリセットされます。  

-   **展開の再評価スケジュール** (非強制オンライン スキャン)  

     構成済みの展開の再評価スケジュールに従って、前回のスキャンが TTL 外の場合のみ、クライアントはソフトウェアの更新ポイントで実行されている WSUS に接続して、ソフトウェア更新プログラムのメタデータを取得します。  

-   **更新プログラム ファイルのダウンロード前** (非強制オンライン スキャン)  

     必須の展開に含まれる更新プログラム ファイルをダウンロードするには、その前に、前回のスキャンが TTL 外の場合のみ、クライアントはソフトウェアの更新ポイントで実行されている WSUS に接続して、ソフトウェア更新プログラムのメタデータを取得する必要があります。  

-   **ソフトウェア更新プログラムのインストール前**(非強制オンライン スキャン)  

     必須の展開に含まれるソフトウェア更新プログラムをインストールするには、その前に、前回のスキャンが TTL 外の場合のみ、クライアントはソフトウェアの更新ポイントで実行されている WSUS に接続して、ソフトウェア更新プログラムのメタデータを取得する必要があります。  

-   **ソフトウェア更新プログラムのインストール後**(強制オフライン スキャン)  

     ソフトウェア更新プログラムがインストールされた後、ソフトウェアの更新クライアント エージェントは、ローカル メタデータを使用してスキャンを開始します。 クライアントが、ソフトウェアの更新ポイントで実行されている WSUS に接続して、ソフトウェア更新プログラムのメタデータを取得することはありません。  

-   **システムの再起動後** (強制オフライン スキャン)  

     ソフトウェア更新プログラムがインストールされ、コンピューターが再起動された後、ソフトウェアの更新クライアント エージェントは、ローカル メタデータを使用してスキャンを開始します。 クライアントが、ソフトウェアの更新ポイントで実行されている WSUS に接続して、ソフトウェア更新プログラムのメタデータを取得することはありません。  

##  <a name="BKMK_DeploymentPackages"></a> ソフトウェア更新プログラムの展開パッケージ  
 ソフトウェア更新プログラムの展開パッケージは、ソフトウェア更新プログラムをネットワーク共有フォルダーにダウンロードし、サイト サーバーと展開で定義される配布ポイント上のコンテンツ ライブラリに、ソフトウェア更新プログラムのソース ファイルをコピーするためのツールです。 更新プログラムのダウンロード ウィザードを使用して、ソフトウェア更新プログラムをダウンロードし、展開する前に展開パッケージに追加できます。 このウィザードでは、ソフトウェア更新プログラムをクライアントに展開する前に、配布ポイント上でソフトウェア更新プログラムをプロビジョニングし、その部分の展開プロセスが正常に行われることを確認できます。  

 ソフトウェア更新プログラムの展開ウィザードを使用してダウンロード済みのソフトウェア更新プログラムを展開する場合は、展開で各ソフトウェア更新プログラムが含まれる展開パッケージが自動的に使用されます。 ダウンロードしていないソフトウェア更新プログラムを展開する場合は、ソフトウェア更新プログラムの展開ウィザードで新規または既存の展開パッケージを指定する必要があります。ウィザードの完了時にソフトウェア更新プログラムがパッケージにダウンロードされます。  

> [!IMPORTANT]  
>  ウィザードで指定する前に、展開パッケージのソース ファイル用の共有ネットワーク フォルダーを手動で作成する必要があります。 展開パッケージごとに異なる共有ネットワーク フォルダーを使用する必要があります。  

> [!IMPORTANT]  
>  ソフトウェアの更新プログラムを実際にダウンロードする SMS プロバイダー コンピューター アカウントと管理者ユーザーのどちらにも、パッケージ ソースへの **書き込み** アクセス許可が必要です。 パッケージ ソースへのアクセスを制限して、パッケージ ソース内のソフトウェア更新プログラムのソース ファイルが攻撃者により改ざんされるリスクを低減します。  

 新しい展開パッケージを作成すると、ソフトウェア更新プログラムがダウンロードされるまではコンテンツ バージョンが 1 に設定されます。 パッケージを使用してソフトウェアの更新ファイルをダウンロードすると、コンテンツ バージョンは 2 に上がります。 そのため、すべての新しい展開パッケージは、コンテンツ バージョン 2 から開始します。 展開パッケージでコンテンツが変更されるたびに、コンテンツ バージョンは 1 ずつ上がります。 詳しくは、「[コンテンツ管理の基本的な概念](../../core/plan-design/hierarchy/fundamental-concepts-for-content-management.md)」を参照してください。  

 クライアントでは、展開パッケージに関係なく、ソフトウェア更新プログラムが利用可能な任意の配布ポイントを使用して、展開内のソフトウェア更新プログラムをインストールします。 アクティブな展開の展開パッケージが削除された場合でも、各更新プログラムが他の展開パッケージの少なくとも 1 つにダウンロードされており、クライアントからアクセスできる配布ポイントで利用可能である限り、クライアントで展開のソフトウェア更新プログラムをインストールできます。 ソフトウェア更新プログラムを含む最後の展開パッケージが削除されると、ソフトウェア更新プログラムが再度展開パッケージにダウンロードされるまで、クライアント コンピューターはソフトウェア更新プログラムを取得できません。 更新プログラム ファイルがどの展開パッケージにもない場合、ソフトウェア更新プログラムは Configuration Manager コンソールに赤い矢印付きで表示されます。 このような状態の更新プログラムを含む展開には赤色の二重矢印が表示されます。  

##  <a name="BKMK_DeploymentWorkflows"></a> ソフトウェア更新プログラムの展開ワークフロー  
 環境にソフトウェア更新プログラムを展開する主な方法には、手動展開と自動展開の 2 種類があります。 通常、ソフトウェア更新プログラムを手動で展開してクライアント コンピューターのベースラインを作成し、次に、自動展開を使用してクライアントのソフトウェア更新を管理します。 以下のセクションで、ソフトウェア更新プログラムの手動展開と自動展開のワークフローの概要を説明します。  

###  <a name="BKMK_ManualDeployment"></a> ソフトウェア更新プログラムの手動展開  
 ソフトウェア更新プログラムの手動展開は、Configuration Manager コンソールでソフトウェア更新プログラムを選択し、展開プロセスを手動で開始するプロセスです。 継続的な月ごとのソフトウェア更新プログラムの展開を管理する自動展開規則を作成する前に、必要なソフトウェア更新プログラムでクライアントを最新の状態にする場合と、帯域外のソフトウェア更新プログラム要件を展開する場合は、通常、この展開方法を使用します。 次の一覧に、ソフトウェア更新プログラムの手動展開の一般的なワークフローを示します。  

1.  特定の要件を使用するソフトウェア更新プログラムをフィルター処理します。 たとえば、50 を超えるクライアント コンピューターで必要なすべてのセキュリティまたは重要なソフトウェア更新プログラムを取得する条件を指定できます。  

2.  ソフトウェア更新プログラムを格納するソフトウェア更新プログラム グループを作成します。  

3.  ソフトウェア更新プログラム グループにソフトウェア更新プログラムのコンテンツをダウンロードします。  

4.  手動でソフトウェア更新プログラム グループを展開します。  

###  <a name="BKMK_AutomaticDeployment"></a> ソフトウェア更新プログラムの自動展開  
 ソフトウェア更新プログラムの自動展開は自動展開規則 (ADR) を使用して構成します。 月ごとのソフトウェア更新プログラム (一般的に、月例修正ファイルとして知られています) と、定義の更新の管理には、通常、この展開方法を使用します。 ルールの実行時、ソフトウェアの更新プログラムがソフトウェアの更新プログラム グループから削除され (既存グループを使用する場合)、指定した基準 (たとえば、先週リリースされたすべてのセキュリティ ソフトウェア更新プログラム) を満たすソフトウェアの更新プログラムがソフトウェアの更新プログラム グループに追加され、ソフトウェアの更新プログラムのコンテンツ ファイルがダウンロードされ、配布ポイントにコピーされ、ソフトウェアの更新プログラムがターゲット コレクションのクライアント コンピューターに展開されます。 次の一覧に、ソフトウェア更新プログラムの自動展開の一般的なワークフローを示します。  

1. 次のような展開設定を指定する ADR を作成します。  

   -   ターゲット コレクション  

   -   展開を有効にするか、ターゲット コレクションに含まれるクライアント コンピューターのソフトウェア更新プログラム対応についてレポートするかを決定します。  

   -   ソフトウェア更新条件  

   -   評価および展開のスケジュール  

   -   ユーザー側の表示と操作  

   -   ダウンロードのプロパティ  

2. ソフトウェア更新プログラムがソフトウェア更新プログラム グループに追加されます。  

3. ソフトウェア更新プログラム グループは、ターゲット コレクションが指定されている場合、そのターゲット コレクションのクライアント コンピューターに展開されます。  

   環境で使用する展開戦略を決定する必要があります。 たとえば、ADR を作成して、テスト用クライアントのコレクションをターゲットにします。 ソフトウェア更新プログラムがテスト グループにインストールされることを確認した後で、規則に新しい展開を追加したり、この既存の展開規則に指定したコレクションを、さらに多くのクライアントが含まれるターゲット コレクションに変更したりすることができます。 ADR で作成されるソフトウェア更新プログラムのオブジェクトは双方向です。  

- ADR を使用して展開されたソフトウェア更新プログラムは、ターゲット コレクションに追加された新しいクライアントに自動的に展開されます。  

- ソフトウェア更新プログラム グループに追加された新しいソフトウェア更新プログラムは、ターゲット コレクションのクライアントに自動的に展開されます。  

- ADR では、展開をいつでも有効または無効にできます。  

  ADR を作成した後、ルールにさらに他の展開を追加できます。 これにより、コレクションごとに異なる更新プログラムを展開する複雑さが軽減されます。 それぞれの新しい展開がさまざまな機能と展開監視エクスペリエンスを備え、追加するそれぞれの新しい展開には次の機能があります。  

- ADR を初めて実行したときに作成されたものと同じ更新グループとパッケージを使用します。  

- 別のコレクションを指定することができます。  

- 次のような独自の展開プロパティをサポートします。  

  -   アクティベーション時間  

  -   期限  

  -   エンド ユーザー エクスペリエンスの表示/非表示  

  -   この展開の個別のアラート  

##  <a name="BKMK_DeploymentProcess"></a> ソフトウェア更新プログラムの展開プロセス  
 ソフトウェア更新プログラムを展開した後、または、自動展開規則が実行されソフトウェア更新プログラムが展開されるときに、展開割り当てポリシーがサイトのコンピューター ポリシーに追加されます。 ソフトウェア更新プログラムは、ダウンロード先、インターネット、または、ネットワーク共有フォルダーからパッケージ ソースにダウンロードされます。 ソフトウェア更新プログラムはパッケージ ソースからサイト サーバーのコンテンツ ライブラリにコピーされ、次に、配布ポイントのコンテンツ ライブラリにコピーされます。  

 展開のターゲット コレクションのクライアント コンピューターがコンピューター ポリシーを受け取ると、ソフトウェア更新クライアント エージェントが評価スキャンを開始します。 クライアント エージェントが、展開に設定された **[ソフトウェアが使用可能な時間]** に必要なソフトウェア更新プログラムのコンテンツを配布ポイントからローカルのクライアント キャッシュにダウンロードすると、そのソフトウェア更新プログラムがインストールに使用できるようになります。 オプションの展開 (インストールの期限がない展開) のソフトウェア更新プログラムはユーザーが手動でインストールを開始するまでダウンロードされません。  

 構成した期限が過ぎると、ソフトウェア更新クライアント エージェントはスキャンを実行して、まだソフトウェア更新プログラムが必要かどうかを検証します。 その後、クライアント コンピューターのローカル キャッシュを確認して、ソフトウェア更新プログラムのソース ファイルがまだ利用可能かどうかを検証します。 最後に、クライアントがソフトウェア更新プログラムをインストールします。 別の展開用の空き領域を確保するためにコンテンツがクライアント キャッシュから削除された場合、クライアントはソフトウェア更新プログラムを配布ポイントからクライアント キャッシュに再ダウンロードします。 構成された最大クライアント キャッシュ サイズに関係なく、ソフトウェア更新プログラムは常にクライアント キャッシュにダウンロードされます。 インストールが完了すると、クライアント エージェントはソフトウェア更新プログラムが必要なくなったことを検証し、ソフトウェア更新プログラムがクライアントにインストールされたことを示す状態メッセージを管理ポイントに送信します。  

### <a name="required-system-restart"></a>必要なシステムの再起動  
 既定では、必要な展開からのソフトウェア更新プログラムがクライアント コンピューターにインストールされたときに、インストールを完了するためにシステムの再起動が必要な場合、システムの再起動が開始されます。 期限の前にインストールされたソフトウェア更新プログラムの場合、コンピューターが他の理由で期限の前に再起動されない限り、自動でのシステムの再起動は期限まで延期されます。 サーバーおよびワークステーションに対しては、システムの再起動を抑制できます。 これらの設定は、ソフトウェア更新プログラムの展開ウィザードまたは自動更新規則の作成ウィザードの **[ユーザー側の表示と操作]** ページで構成します。  

### <a name="deployment-reevaluation-cycle"></a>展開再評価サイクル  
 既定では、クライアント コンピューターは、展開再評価サイクルを 7 日ごとに開始します。 この評価サイクル中に、クライアント コンピューターは、以前に展開およびインストールされたソフトウェア更新プログラムをスキャンします。 不足しているソフトウェア更新プログラムがある場合、そのソフトウェア更新プログラムがローカル キャッシュから再インストールされます。 ソフトウェア更新プログラムがローカル キャッシュで利用できなくなっている場合、配布ポイントからダウンロードされ、インストールされます。 サイトのクライアント設定の **[ソフトウェア更新プログラム]** ページで、再評価のスケジュールを構成できます。  

##  <a name="BKMK_EmbeddedDevices"></a> 書き込みフィルターを使用する Windows Embedded デバイスのサポート  
 書き込みフィルターが有効にされた Windows Embedded デバイスにソフトウェア更新プログラムを展開するときに、展開中にデバイスで書き込みフィルターを無効にし、展開後にデバイスを再起動するかどうかを指定できます。 書き込みフィルターが有効な場合、ソフトウェアは一時オーバーレイに展開され、別の展開によって変更の保持が強制されない限り、デバイスの再起動時にインストールされません。  

> [!NOTE]  
>  ソフトウェア更新プログラムを Windows Embedded デバイスに展開する場合、デバイスが、メンテナンス期間が構成されたコレクションのメンバーであることを確認します。 これにより、書き込みフィルターを無効または有効にするタイミングと、デバイスを再起動するタイミングを管理できます。  

 書き込みフィルターの動作を制御するユーザー エクスペリエンス設定は、**[メンテナンスの期限または期間中の変更を確定する (再起動が必要)]** という名前のチェック ボックスです。  

 書き込みフィルターを使用する内蔵デバイスを Configuration Manager が管理するしくみの詳細については、「[Planning for client deployment to Windows Embedded devices](../../core/clients/deploy/plan/planning-for-client-deployment-to-windows-embedded-devices.md)」(Windows Embedded デバイスへのクライアント展開の計画) を参照してください。  

##  <a name="BKMK_ExtendSoftwareUpdates"></a> Configuration Manager でのソフトウェア更新プログラムの拡張  
 Microsoft Update から利用できないソフトウェア更新プログラムを管理するには、System Center Updates Publisher を使用します。 ソフトウェア更新プログラムを更新サーバーに公開し、Configuration Manager でソフトウェア更新プログラムを同期した後で、そのソフトウェア更新プログラムを Configuration Manager クライアントに展開できます。 Updates Publisher の詳細については、「[Updates Publisher 2011](http://go.microsoft.com/fwlink/p/?LinkId=252947)」を参照してください。  

## <a name="next-steps"></a>次のステップ
[ソフトウェア更新プログラムの計画](../plan-design/plan-for-software-updates.md)
