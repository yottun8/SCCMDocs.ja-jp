---
title: "コンテンツの展開 | Microsoft Docs"
description: "System Center Configuration Manager の配布ポイントをインストールした後に、その配布ポイントにコンテンツを展開する方法について説明します。"
ms.custom: na
ms.date: 10/06/2016
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology: configmgr-other
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: d50dcca0-4419-449d-a487-73abcadf328f
caps.latest.revision: "6"
author: Brenduns
ms.author: brenduns
manager: angrobe
ms.openlocfilehash: 36b08285ef78d0acb9ba9c44abe2d57e311d44b3
ms.sourcegitcommit: 51fc48fb023f1e8d995c6c4eacfda7dbec4d0b2f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/07/2017
---
# <a name="deploy-and-manage-content-for-system-center-configuration-manager"></a>System Center Configuration Manager でのコンテンツの展開および管理

*適用対象: System Center Configuration Manager (Current Branch)*

System Center Configuration Manager の配布ポイントをインストールしたら、その配布ポイントへのコンテンツの展開を開始できます。 通常、コンテンツはネットワーク経由で配布ポイントに転送しますが、他の方法を使用して配布ポイントにコンテンツを転送することもできます。 コンテンツを配布ポイントに転送した後は、配布ポイントのコンテンツを更新、再配布、削除、および検証できます。  

##  <a name="bkmk_distribute"></a> コンテンツの配布  
 通常、コンテンツをクライアント コンピューターで使用できるようにするには、コンテンツを配布ポイントに配布します。 (特定の展開のオンデマンド コンテンツ配布を使用する場合は例外です。)コンテンツを配布するとき、Configuration Manager は、コンテンツ ファイルをパッケージに保存してから配布ポイントに配布します。 配布できるコンテンツには、次のような種類があります。  

-   アプリケーションの展開の種類  

-   パッケージ  

-   展開パッケージ  

-   ドライバー パッケージ  

-   オペレーティング システム イメージ  

-   オペレーティング システム インストーラー  

-   ブート イメージ  

-   タスク シーケンス  

アプリケーションの展開の種類などのソース ファイルを含むパッケージまたは展開パッケージを作成する場合は、パッケージが作成されるサイトがパッケージ コンテンツ ソースのサイト所有者になります。 Configuration Manager により、オブジェクトに指定されているソース ファイル パスからパッケージ コンテンツ ソースを所有するサイト サーバーのコンテンツ ライブラリにソース ファイルがコピーされます。  次に、Configuration Manager により、情報が追加のサイトにレプリケートされます。 (詳細については、「[コンテンツ ライブラリ](../../../../core/plan-design/hierarchy/the-content-library.md)」をご覧ください。)  

コンテンツを配布ポイントに配布するには、次の手順に従います。  

#### <a name="to-distribute-content-on-distribution-points"></a>コンテンツを配布ポイントに配布するには  

1.  Configuration Manager コンソールで、[ソフトウェア ライブラリ] ****をクリックします。  

2.  [ソフトウェア ライブラリ **** ] ワークスペースで、配布するコンテンツの種類に応じて、次のいずれかの手順を選択します。  

    -   **アプリケーション**: **[アプリケーション管理]** > **[アプリケーション]** の順に展開して、配布するアプリケーションを選択します。  

    -   **パッケージ**: **[アプリケーション管理]** >  **[パッケージ]** の順に展開して、配布するパッケージを選択します。  

    -   **展開パッケージ**: **[ソフトウェア更新プログラム]** >  **[展開パッケージ]** の順に展開して、配布する展開パッケージを選択します。  

    -   **ドライバー パッケージ**: **[オペレーティング システム]** >  **[ドライバー パッケージ]** の順に展開して、配布するドライバー パッケージを選択します。  

    -   **オペレーティング システム イメージ**: **[オペレーティング システム]** >  **[オペレーティング システム イメージ]** の順に展開して、配布するオペレーティング システム イメージを選択します。  

    -   **オペレーティング システム インストーラー**: **[オペレーティング システム]** > **[オペレーティング システム インストーラー]** の順に展開して、配布するオペレーティング システム インストーラーを選択します。  

    -   **ブート イメージ**: **[オペレーティング システム]** >  **[ブート イメージ]** の順に展開して、配布するブート イメージを選択します。  

    -   **タスク シーケンス**: **[オペレーティング システム]** >  **[タスク シーケンス]** の順に展開して、配布するタスク シーケンスを選択します。 タスク シーケンスには、コンテンツは含まれませんが、配布される関連コンテンツの依存関係が含まれます。  

        > [!NOTE]  
        >  タスク シーケンスを変更する場合は、コンテンツを再配布する必要があります。  

3.  [ホーム **** ] タブの [展開 **** ] グループで、[コンテンツの配布 ****] をクリックします。 コンテンツの配布ウィザードが開きます。  

4.  **[全般]** ページで、表示されているコンテンツが配布するコンテンツであることを確認し、選択されたコンテンツに関連付けられているコンテンツの依存関係を Configuration Manager が検出し、依存関係を配布に追加するかどうかを選択して、**[次へ]** をクリックします。  

    > [!NOTE]  
    >  [コンテンツに依存する項目を検出してこの配布に追加する **** ] の設定を構成できるのは、コンテンツの種類がアプリケーションである場合のみです。 Configuration Manager では、タスク シーケンスのこの設定は自動的に構成され、変更することはできません。  

5.  表示される場合は、[コンテンツ **** ] タブで、表示されているコンテンツが配布対象のコンテンツであることを確認して、[次へ ****] をクリックします。  

    > [!NOTE]  
    >  [コンテンツ **** ] ページは、ウィザードの [全般 **** ] ページで [関連コンテンツの依存関係を検出してこの配布に追加する **** ] が選択されている場合にのみ表示されます。  

6.  [コンテンツの配布先 **** ] ページで [追加 ****] をクリックし、次のいずれかを選択して、該当の手順に従います。  

    -   **コレクション**:[ユーザー コレクション **** ] または [デバイス コレクション ****] を選択し、1 つまたは複数の配布ポイント グループに関連付けられているコレクションをクリックして、[OK ****] をクリックします。  

        > [!NOTE]  
        >  配布ポイント グループに関連付けられているコレクションのみが表示されます。 コレクションと配布ポイント グループの関連付けの詳細については、「[System Center Configuration Manager の配布ポイントのインストールと構成](../../../../core/servers/deploy/configure/install-and-configure-distribution-points.md)」トピックの「[配布ポイント グループの管理](../../../../core/servers/deploy/configure/install-and-configure-distribution-points.md#bkmk_manage)」をご覧ください。  

    -   **配付ポイント**:既存の配布ポイントを選択して、[OK ****] をクリックします。 コンテンツを既に受信した配布ポインは表示されません。  

    -   **配布ポイント グループ**:既存の配布ポイント グループを選択して、[OK ****] をクリックします。 コンテンツを既に受信した配布ポイント グループは表示されません。  

    コンテンツの配布先の追加が完了したら、[次へ ****] をクリックします。  

7.  [概要 **** ] ページで、操作を続ける前に配布の設定を見直します。 選択した配布先にコンテンツを配布するには、[次へ ****] をクリックします。  

8.  [進行状況] ページに、配布の進行状況が表示されます。 ****  

9. [確認 **** ] ページに、コンテンツがポイントに正常に割り当てられたかどうかが表示されます。 コンテンツの配布を監視するには、「[配布したコンテンツを System Center Configuration Manager で監視する](../../../../core/servers/deploy/configure/monitor-content-you-have-distributed.md)」をご覧ください。  

##  <a name="bkmk_prestage"></a> 事前設定されたコンテンツの使用  
 次の手順で、アプリケーションおよびパッケージの種類のコンテンツ ファイルを事前設定することができます。  

-   Configuration Manager コンソールで、必要なコンテンツを選択してから、**事前設定コンテンツ ファイルの作成ウィザード**を使用して、選択したコンテンツのファイルと関連メタデータを含む事前設定コンテンツ ファイル (圧縮ファイル) を作成します。  

-   その結果、サイト サーバー、セカンダリ サイト、または配布ポイントでコンテンツを手動でインポートできるようになります。  

-   事前設定コンテンツ ファイルをサイト サーバーにインポートする場合、コンテンツ ファイルはサイト サーバーのコンテンツ ライブラリに追加され、サイト サーバー データベースに登録されます。  

-   事前設定コンテンツ ファイルを配布ポイントにインポートする場合、コンテンツ ファイルは配布ポイントのコンテンツ ライブラリに追加され、コンテンツが配布ポイントで使用可能になったことを伝えるステータス メッセージがサイト サーバーに送信されます。  

**事前設定されたコンテンツに関する制限事項と考慮事項:**  

-   **配布ポイントがサイト サーバーにある場合は**、事前設定コンテンツの配布ポイントを有効にしないでください。 代わりに、「[サイト サーバーに置かれた配布ポイントでコンテンツを事前設定する方法](#bkmk_dpsiteserver)」の手順を使用してください。  

-   **配布ポイントをプル配布ポイントとして構成する場合**、事前設定コンテンツの配布ポイントを有効にしないでください。 配布ポイントの事前設定コンテンツの構成は、プル配布ポイントの構成よりも優先されます。 事前設定コンテンツ用に構成されたプル配布ポイントは、ソース配布ポイントからコンテンツをプルしません。また、サイト サーバーからコンテンツを受信しません。  

-   **配布ポイントのコンテンツを事前設定する前に**、コンテンツ ライブラリを配布ポイントに作成する必要があります。 少なくとも 1 回コンテンツをネットワーク経由で配布してから、配布ポイントのコンテンツを事前設定してください。  

-   **パッケージ ソース パスが長い (140 文字を超えるなど) パッケージのコンテンツを事前設定すると**、Extract Content コマンドライン ツールはそのパッケージのコンテンツをコンテンツ ライブラリに抽出できないことがあります。  

コンテンツ ファイルを事前設定するタイミングの詳細については、「[コンテンツ管理でのネットワーク帯域幅の管理](/sccm/core/plan-design/hierarchy/manage-network-bandwidth)」トピックの「*Prestaged content*」 (事前設定コンテンツ) をご覧ください。  

コンテンツを事前設定するには、次の手順に従います。  

###  <a name="BKMK_CreatePrestagedContentFile"></a> 手順 1: 事前設定コンテンツ ファイルを作成する  
 Configuration Manager コンソールで選択するコンテンツのファイルと関連メタデータを含む事前設定コンテンツ ファイル (圧縮ファイル) を作成することができます。 事前設定コンテンツ ファイルを作成するには、次の手順に従います。  

##### <a name="to-create-a-prestaged-content-file"></a>事前設定コンテンツ ファイルを作成するには  

1.  Configuration Manager コンソールで、[ソフトウェア ライブラリ] ****をクリックします。  

2.  [ソフトウェア ライブラリ **** ] ワークスペースで、事前設定するコンテンツの種類に応じて、次のいずれかの手順を選択します。  

    -   **アプリケーション**:[アプリケーション管理 ****] を展開し、[アプリケーション ****] をクリックして、事前設定するアプリケーションを選択します。  

    -   **パッケージ**:[アプリケーション管理 ****] を展開し、[パッケージ ****] をクリックして、事前設定するパッケージを選択します。  

    -   **ドライバー パッケージ**:[オペレーティング システム ****] を展開し、[ドライバー パッケージ ****] をクリックして、事前設定するドライバー パッケージを選択します。  

    -   **オペレーティング システム イメージ**:[オペレーティング システム ****] を展開し、[オペレーティング システム イメージ ****] をクリックして、事前設定するオペレーティング システム イメージを選択します。  

    -   **オペレーティング システム インストーラー**:[オペレーティング システム ****] を展開し、[オペレーティング システム インストーラー ****] をクリックして、事前設定するオペレーティング システム インストーラーを選択します。  

    -   **ブート イメージ**:[オペレーティング システム ****] を展開し、[ブート イメージ ****] をクリックして、事前設定するブート イメージを選択します。  

    -   **タスク シーケンス**:[オペレーティング システム ****] を展開し、[タスク シーケンス ****] をクリックして、事前設定するタスク シーケンスを選択します。  

3.  [ホーム **** ] タブの [展開 **** ] グループで、[事前設定コンテンツ ファイルの作成 ****] をクリックします。 事前設定コンテンツ ファイルの作成ウィザードが開きます。  

    > [!NOTE]  
    >  **アプリケーションの場合:** **[ホーム]** タブの **[アプリケーション]** グループで、**[事前設定コンテンツ ファイルの作成]** をクリックします。  
    >   
    >  **パッケージの場合:** **[ホーム]** タブの &lt;*PackageName*> グループで、**[事前設定コンテンツ ファイルの作成]** をクリックします。  

4.  [全般 **** ] ページで、[参照 ****] をクリックして事前設定コンテンツ ファイルの場所を選択し、ファイルの名前を指定して [保存 ****] をクリックします。 この事前設定コンテンツ ファイルをプライマリ サイト サーバー、セカンダリ サイト サーバー、または配布ポイントで使用して、コンテンツおよびメタデータをインポートします。  

5.  アプリケーションの場合、**[すべての依存関係をエクスポート]** を選択して、Configuration Manager がアプリケーションに関連付けられた依存関係を検出し、事前設定コンテンツ ファイルに追加するよう指定します。 既定では、この設定が選択されています。  

6.  [管理者コメント ****] に、事前設定コンテンツ ファイルに関するコメント (任意指定) を入力し、[次へ ****] をクリックします。  

7.  [コンテンツ **** ] ページで、表示されているコンテンツが事前設定ファイルに追加するコンテンツであることを確認して、[次へ ****] をクリックします。  

8.  [コンテンツの場所 **** ] ページで、事前設定コンテンツ ファイル用のコンテンツ ファイルの取得元の配布ポイントを指定します。 複数の配布ポイントを選択して、コンテンツを取得することができます。 配布ポイントの一覧が [コンテンツの場所] セクションに表示されます。 [コンテンツ **** ] 列に、選択されたパッケージまたはアプリケーションのうち、それぞれの配布ポイントで使用可能なパッケージまたはアプリケーションの数が表示されます。 Configuration Manager では、一覧の先頭の配布ポイントを始めとして、選択されたコンテンツが取得され、一覧の下の方に向かって順番に、事前設定コンテンツ ファイルに必要な残りのコンテンツが取得されます。 配布ポイントの優先順位を変更するには、[上へ移動 **** ] または [下へ移動 **** ] をクリックします。 選択したコンテンツ全部を一覧内の配布ポイントでそろえることができない場合は、コンテンツを含む配布ポイントを一覧に追加するか、または、ウィザードを終了して、コンテンツを少なくとも 1 つの配布ポイントに配布してからウィザードを再始動する必要があります。  

9. [要約 **** ] ページで、詳細を確認します。 前のページに戻って変更を加えることができます。 [次へ **** ] をクリックして、事前設定コンテンツ ファイルを作成します。  

10. [進捗状況 **** ] ページに、事前設定コンテンツ ファイルに追加されているコンテンツが表示されます。  

11. [完了 **** ] ページで、事前設定コンテンツ ファイルが正常に作成されたことを確認して、[閉じる ****] をクリックします。  

###  <a name="BKMK_AssignContentToDistributionPoint"></a> 手順 2: コンテンツを配布ポイントに割り当てる  
 コンテンツ ファイルを事前設定したら、コンテンツを配布ポイントに割り当てます。  

> [!NOTE]  
>  事前設定コンテンツ ファイルを使用してサイト サーバーのコンテンツ ライブラリを回復する場合、および配布ポイントのコンテンツ ファイルを事前設定する必要がない場合は、この手順を省略することができます。  

 事前設定コンテンツ ファイルのコンテンツを配布ポイントに割り当てるには、次の手順に従います。  

> [!IMPORTANT]  
>  事前設定の対象となる配布ポイントが事前設定の配布ポイントとして構成されていること、またはコンテンツがネットワークを使用して配布ポイントに配布されることを確認してください。  

##### <a name="to-assign-the-content-to-distribution-points"></a>コンテンツを配布ポイントに割り当てるには  

1.  Configuration Manager コンソールで、[ソフトウェア ライブラリ] ****をクリックします。  

2.  [ソフトウェア ライブラリ **** ] ワークスペースで、事前設定コンテンツ ファイルの作成時に選択したコンテンツの種類に応じて、次のいずれかの手順を選択します。  

    -   **アプリケーション**:[アプリケーション管理 ****] を展開し、[アプリケーション ****] をクリックして、事前設定したアプリケーションを選択します。  

    -   **パッケージ**:[アプリケーション管理 ****] を展開し、[パッケージ ****] をクリックして、事前設定したパッケージを選択します。  

    -   **展開パッケージ**:[ソフトウェア更新プログラム ****] を展開し、[展開パッケージ ****] をクリックして、事前設定した展開パッケージを選択します。  

    -   **ドライバー パッケージ**:[オペレーティング システム ****] を展開し、[ドライバー パッケージ ****] をクリックして、事前設定したドライバー パッケージを選択します。  

    -   **オペレーティング システム イメージ**:[オペレーティング システム ****] を展開し、[オペレーティング システム イメージ ****] をクリックして、事前設定したオペレーティング システム イメージを選択します。  

    -   **オペレーティング システム インストーラー**:[オペレーティング システム ****] を展開し、[オペレーティング システム インストーラー ****] をクリックして、事前設定したオペレーティング システム インストーラーを選択します。  

    -   **ブート イメージ**:[オペレーティング システム ****] を展開し、[ブート イメージ ****] をクリックして、事前設定したブート イメージを選択します。  

3.  [ホーム **** ] タブの [展開 **** ] グループで、[コンテンツの配布 ****] をクリックします。 コンテンツの配布ウィザードが開きます。  

4.  **[全般]** ページで、表示されているコンテンツが事前設定したコンテンツであることを確認し、選択されたコンテンツに関連付けられているコンテンツの依存関係を Configuration Manager が検出し、依存関係を配布に追加するかどうかを選択して、**[次へ]** をクリックします。  

    > [!NOTE]  
    >  [コンテンツに依存する項目を検出してこの配布に追加する **** ] の設定を構成できるのは、コンテンツの種類がアプリケーションである場合のみです。 Configuration Manager では、タスク シーケンスのこの設定は自動的に構成され、変更することはできません。  

5.  表示される場合は、[コンテンツ **** ] ページで、表示されているコンテンツが配布対象のコンテンツであることを確認して、[次へ ****] をクリックします。  

    > [!NOTE]  
    >  [コンテンツ **** ] ページは、ウィザードの [全般 **** ] ページで [関連コンテンツの依存関係を検出してこの配布に追加する **** ] が選択されている場合にのみ表示されます。  

6.  [コンテンツの配布先 **** ] ページで [追加 ****] をクリックし、事前設定対象の配布ポイントを含む次のいずれかを選択して、該当の手順に従います。  

    -   **コレクション**:[ユーザー コレクション **** ] または [デバイス コレクション ****] を選択し、1 つまたは複数の配布ポイント グループに関連付けられているコレクションをクリックして、[OK ****] をクリックします。  

        > [!NOTE]  
        >  配布ポイント グループに関連付けられているコレクションのみが表示されます。  詳細については、「[System Center Configuration Manager の配布ポイントのインストールと構成](../../../../core/servers/deploy/configure/install-and-configure-distribution-points.md)」トピックの「[配布ポイント グループの管理](../../../../core/servers/deploy/configure/install-and-configure-distribution-points.md#bkmk_manage)」をご覧ください。  

    -   **配付ポイント**:既存の配布ポイントを選択して、[OK ****] をクリックします。 コンテンツを既に受信した配布ポインは表示されません。  

    -   **配布ポイント グループ**:既存の配布ポイント グループを選択して、[OK ****] をクリックします。 コンテンツを既に受信した配布ポイント グループは表示されません。  

    コンテンツの配布先の追加が完了したら、[次へ ****] をクリックします。  

7.  [概要 **** ] ページで、操作を続ける前に配布の設定を見直します。 選択した配布先にコンテンツを配布するには、[次へ ****] をクリックします。  

8.  [進行状況] ページに、配布の進行状況が表示されます。 ****  

9. [確認 **** ] ページは、コンテンツが配布ポイントに正常に割り当てられたかどうかを表示します。 コンテンツの配布を監視するには、「[配布したコンテンツを System Center Configuration Manager で監視する](../../../../core/servers/deploy/configure/monitor-content-you-have-distributed.md)」をご覧ください。  

###  <a name="BKMK_ExportContentFromPrestagedContentFile"></a> 手順 3: 事前設定コンテンツ ファイルからコンテンツを抽出する  
 事前設定コンテンツ ファイルを作成し、そのコンテンツを配布ポイントに割り当てたら、サイト サーバーまたは配布ポイントのコンテンツ ライブラリにコンテンツ ファイルを解凍することができます。 通常は、事前設定コンテンツ ファイルを USB ドライブなどのポータブル ドライブにコピーするか、またはコンテンツを DVD などのメディアに書き込んでから、コンテンツが必要なサイト サーバーまたは配布ポイントで使用可能にします。  

 Extract Content コマンド ライン ツールを使用してコンテンツ ファイルを事前設定コンテンツ ファイルから手動でエクスポートするには、次の手順に従います。  

> [!IMPORTANT]  
>  Extract Content コマンドライン ツールを実行すると、事前設定コンテンツ ファイルを作成するときに一時ファイルが作成されます。 次に、ファイルは対象フォルダーにコピーされ、一時ファイルは削除されます。 この一時ファイル用に十分なディスク領域を用意する必要があります。領域がない場合、プロセスは失敗します。 一時ファイルは次の場所に作成されます。  
>   
>  -   事前設定コンテンツ ファイル用の対象フォルダーに指定したフォルダーと同じフォルダーに一時ファイルが作成されます。  

> [!IMPORTANT]  
>  Extract Content コマンド ライン ツールを実行するユーザーには、事前設定コンテンツの抽出元のコンピューターに対する**管理者**権限が必要です。  

##### <a name="to-extract-the-content-files-from-the-prestaged-content-file"></a>コンテンツ ファイルを事前設定コンテンツ ファイルから抽出するには  

1.  事前設定コンテンツ ファイルをコンテンツの抽出元のコンピューターにコピーします。  

2.  Extract Content コマンド ライン ツールを &lt;*ConfigMgrInstallationPath*>\bin\\&lt;*platform*> から事前設定コンテンツ ファイルの抽出元のコンピューターにコピーします。  

3.  コマンド プロンプトを表示して、事前設定コンテンツ ファイルおよび Extract Content ツールがあるフォルダーの場所に移動します。  

    > [!NOTE]  
    >  サイト サーバー、セカンダリ サイト サーバー、または配布ポイントで 1 つまたは複数の事前設定ファイルを抽出することができます。  

4.  ファイルを 1 つインポートするには、**extractcontent /P:**&lt;*PrestagedFileLocation*>**\\**&lt;*PrestagedFileName*> **/S** と入力します。  

     すべての事前設定ファイルを特定のフォルダーにインポートするには、**extractcontent /P:**&lt;*PrestagedFileLocation*> **/S** と入力します。  

     たとえば、**extractcontent /P:D:\PrestagedFiles\MyPrestagedFile.pkgx /S** と入力する場合、`D:\PrestagedFiles\` は PrestagedFileLocation、`MyPrestagedFile.pkgx` は事前設定されたファイル名で、`/S` は Configuration Manager に対して、現在の配布ポイントにあるものより新しいコンテンツ ファイルのみを抽出することを通知します。  

     事前設定コンテンツ ファイルをサイト サーバーに抽出する場合、コンテンツ ファイルはサイト サーバーのコンテンツ ライブラリに追加され、コンテンツが使用可能であるか使用不可であるかがサイト サーバー データベースに登録されるようになります。 事前設定コンテンツ ファイルを配布ポイントに抽出する場合、コンテンツ ファイルは配布ポイントのコンテンツ ライブラリに追加され、状態メッセージが配布ポイントから親プライマリ サイト サーバーに送信されて、コンテンツが使用可能であるか使用不可であるかがサイト データベースに登録されるようになります。  

    > [!IMPORTANT]  
    >  次のシナリオでは、コンテンツが新しいバージョンに更新されたときに、事前設定コンテンツ ファイルから抽出されたコンテンツを更新する必要があります。  
    >   
    >  1.  バージョン 1 のパッケージの事前設定コンテンツ ファイルを作成します。  
    >  2.  バージョン 2 のパッケージを作成するため、ソース ファイルを更新します。  
    >  3.  事前設定コンテンツ ファイル (バージョン 1 のパッケージ) を配布ポイントから抽出します。  
    >   
    > Configuration Manager は配布ポイントにバージョン 2 のパッケージを自動的に配布しません。 新しいバージョンのファイルを含む新しい事前設定コンテンツ ファイルを作成し、コンテンツを抽出して、変更されたファイルが配布されるように、または、パッケージ内のすべてのファイルが再配布されるように、配布ポイントを更新する必要があります。  

###  <a name="bkmk_dpsiteserver"></a> サイト サーバーに置かれた配布ポイントでコンテンツを事前設定する方法  
 配布ポイントがサイト サーバーにインストールされている場合は、コンテンツを適切に事前設定するには、次の手順に従う必要があります。 これは、コンテンツ ファイルが既にコンテンツ ライブラリに含まれているためです。  

 配布ポイントで事前設定コンテンツが有効でない場合、または配布ポイントがサイト サーバーに設けられていない場合は、このトピックの「[事前設定されたコンテンツの使用](#bkmk_prestage)」セクションをご覧ください。  

##### <a name="to-prestage-content-on-distribution-points-located-on-a-site-server"></a>サイト サーバーに置かれた配布ポイントでコンテンツを事前設定するには  

1.  以下の手順に従い、配布ポイントで事前設定コンテンツが有効になっていることを確認します。  

    1.  Configuration Manager コンソールで、[ **管理**] をクリックします。  

    2.  [管理] **** ワークスペースで、[配布ポイント] ****をクリックし、サイト サーバーに置かれた配布ポイントを選択します。  

    3.  **[ホーム]** タブの **[プロパティ]** グループで、 **[プロパティ]**をクリックします。  

    4.  [全般] **** タブで、[事前設定されたコンテンツ用にこの配布ポイントを有効にする] **** チェックボックスをオンにします。  

2.  このトピックの「[手順 1: 事前設定コンテンツ ファイルを作成する](#BKMK_CreatePrestagedContentFile)」セクションを使用して、事前設定コンテンツ ファイルを作成します。  

3.  このトピックの「[手順 2: コンテンツを配布ポイントに割り当てる](#BKMK_AssignContentToDistributionPoint)」セクションを使用して、コンテンツを配布ポイントに割り当てます。  

4.  このトピックの「[手順 3: 事前設定コンテンツ ファイルからコンテンツを抽出する](#BKMK_ExportContentFromPrestagedContentFile)」セクションを使用して、サイト サーバー上で事前設定コンテンツ ファイルからコンテンツを抽出します。  

    > [!NOTE]  
    >  配布ポイントがセカンダリ サイトにある場合は、少なくとも 10 分待ってから、親プライマリ サイトへ接続している Configuration Manager コンソールを使用して、セカンダリ サイト上の配布ポイントへコンテンツを割り当てます。  

##  <a name="bkmk_manage"></a> 配布したコンテンツの管理  
 コンテンツを管理するために次のオプションを使用できます。  
 - [コンテンツの更新](#update-content)
 - [コンテンツの再配布](#redistribute-content)
 - [コンテンツの削除](#remove-content)
 - [コンテンツの検証](#validate-content)

### <a name="update-content"></a>コンテンツの更新
新しいファイルを追加するか、既存のファイルを新しいバージョンに置き換えることによって展開のソース ファイルの場所が更新された場合は、**[配布ポイントの更新]** 操作または **[コンテンツの更新]** 操作を使用して配布ポイントにあるコンテンツ ファイルを更新することができます。  
-   コンテンツ ファイルは、ソース ファイル パスからパッケージ コンテンツ ソースを所有するサイトのコンテンツ ライブラリにコピーされます。  
-   パッケージのバージョンがインクリメントされます。  
-   サイト サーバーと配布ポイントにあるコンテンツ ライブラリの各インスタンスは、変更されたファイルのみについて更新されます。  

> [!WARNING]  
>  アプリケーションのパッケージ バージョンは常に 1 です。 アプリケーションの展開の種類のコンテンツを更新すると、Configuration Manager は、その展開の種類用に新しいコンテンツ ID を作成し、パッケージはその新しいコンテンツ ID を参照します。  

#### <a name="to-update-content-on-distribution-points"></a>配布ポイントのコンテンツを更新するには  

1.  Configuration Manager コンソールで、[ソフトウェア ライブラリ] ****をクリックします。  

2.  [ソフトウェア ライブラリ **** ] ワークスペースで、配布するコンテンツの種類に応じて、次のいずれかの手順を選択します。  

    -   **アプリケーション**: **[アプリケーション管理]** > **[アプリケーション]** の順に展開して、配布するアプリケーションを選択します。 [展開の種類 **** ] タブをクリックして、更新する展開の種類を選択します。  

    -   **パッケージ**: **[アプリケーション管理]** > **[パッケージ]** の順に展開して、更新するパッケージを選択します。  

    -   **展開パッケージ**: **[ソフトウェア更新プログラム]** > **[展開パッケージ]** の順に展開して、更新する展開パッケージを選択します。  

    -   **ドライバー パッケージ**: **[オペレーティング システム]** > **[ドライバー パッケージ]** の順に展開して、更新するドライバー パッケージを選択します。  

    -   **オペレーティング システム イメージ**: **[オペレーティング システム]** > **[オペレーティング システム イメージ]** の順に展開して、更新するオペレーティング システム イメージを選択します。  

    -   **オペレーティング システム インストーラー**: **[オペレーティング システム]** > **[オペレーティング システム インストーラー]** の順に展開して、更新するオペレーティング システム インストーラーを選択します。  

    -   **ブート イメージ**: **[オペレーティング システム]** >  **[ブート イメージ]** の順に展開して、更新するブート イメージを選択します。  

3.  [ホーム **** ] タブの [展開 **** ] グループで、[配布ポイントの更新 ****] をクリックし、[OK **** ] をクリックしてコンテンツの更新を確定します。  

    > [!NOTE]  
    >  アプリケーションのコンテンツを更新するには、[展開の種類 **** ] タブをクリックし、展開の種類を右クリックして [コンテンツの更新 ****] をクリックし、[OK **** ] をクリックしてコンテンツを最新の内容に更新する操作を確定します。  

    > [!NOTE]  
    >  ブート イメージのコンテンツを更新する場合は、配布ポイントの管理ウィザードを開きます。 [概要 **** ] ページで情報を確認し、ウィザードを完了してコンテンツを更新します。  

### <a name="redistribute-content"></a>コンテンツの再配布
パッケージを再配布してパッケージ内のすべてのコンテンツ ファイルを配布ポイントまたは配布ポイント グループにコピーして、既存のファイルを上書きすることができます。  

 この操作は、パッケージ内のコンテンツ ファイルを修復するか、または初回配布が失敗した場合にコンテンツを再送信するときに使用します。 パッケージは、次の場所から再配布することができます。  

-   パッケージのプロパティ  
-   配布ポイントのプロパティ  
-   配布ポイント グループのプロパティ  


#### <a name="to-redistribute-content-from-package-properties"></a>パッケージ プロパティを使用してコンテンツを再配布するには  

1.  Configuration Manager コンソールで、[ソフトウェア ライブラリ] ****をクリックします。  

2.  [ソフトウェア ライブラリ **** ] ワークスペースで、配布するコンテンツの種類に応じて、次のいずれかの手順を選択します。  

    -   **アプリケーション**: **[アプリケーション管理]** >  **[アプリケーション]** の順に展開して、再配布するアプリケーションを選択します。  

    -   **パッケージ**: **[アプリケーション管理]** > **[パッケージ]** の順に展開して、再配布するパッケージを選択します。  

    -   **展開パッケージ**: **[ソフトウェア更新プログラム]** >  **[展開パッケージ]** の順に展開して、再配布する展開パッケージを選択します。  

    -   **ドライバー パッケージ**: **[オペレーティング システム]** > **[ドライバー パッケージ]** の順に展開して、再配布するドライバー パッケージを選択します。  

    -   **オペレーティング システム イメージ**: **[オペレーティング システム]** > **[オペレーティング システム イメージ]** の順に展開して、再配布するオペレーティング システム イメージを選択します。  

    -   **オペレーティング システム インストーラー**: **[オペレーティング システム]** > **[オペレーティング システム インストーラー]** の順に展開して、再配布するオペレーティング システム インストーラーを選択します。  

    -   **ブート イメージ**: **[オペレーティング システム]** >  **[ブート イメージ]** の順に展開して、再配布するブート イメージを選択します。  

3.  **[ホーム]** タブの **[プロパティ]** グループで、 **[プロパティ]**をクリックします。  

4.  [コンテンツの場所 **** ] タブをクリックし、コンテンツを再配布する配布ポイントまたは配布ポイント グループを選択して、[再配布 ****] をクリックし、[OK ****] をクリックします。  

#### <a name="to-redistribute-content-from-distribution-point-properties"></a>配布ポイント プロパティを使用してコンテンツを再配布するには  

1.  Configuration Manager コンソールで、[ **管理**] をクリックします。  

2.  [管理 **** ] ワークスペースで [配布ポイント ****] をクリックして、コンテンツを再配信する配布ポイントを選択します。  

3.  **[ホーム]** タブの **[プロパティ]** グループで、 **[プロパティ]**をクリックします。  

4.  [コンテンツ **** ] タブをクリックし、再配布するコンテンツを選択して、[再配布 ****] をクリックし、[OK ****] をクリックします。  

#### <a name="to-redistribute-content-from-distribution-point-group-properties"></a>配布ポイント グループ プロパティを使用してコンテンツを再配布するには  

1.  Configuration Manager コンソールで、[ **管理**] をクリックします。  

2.  [管理 **** ] ワークスペースで [配布ポイント ****] をクリックして、コンテンツを再配信する配布ポイント グループを選択します。  

3.  **[ホーム]** タブの **[プロパティ]** グループで、 **[プロパティ]**をクリックします。  

4.  [コンテンツ **** ] タブをクリックし、再配布するコンテンツを選択して、[再配布 ****] をクリックし、[OK ****] をクリックします。  

    > [!IMPORTANT]  
    >  パッケージ内のコンテンツが配布ポイント グループ内のすべての配布ポイントに再配布されます。  


#### <a name="use-the-sdk-to-force-replication-of-content"></a>SDK を使用してコンテンツのレプリケーションを強制する
Configuration Manager SDK の **RetryContentReplication** Windows Management Instrumentation (WMI) クラス メソッドを使用して、配布マネージャーに対して、ソースの場所からコンテンツ ライブラリにコンテンツをコピーするように強制できます。  

このメソッドを使用するのは、コンテンツの通常のレプリケーションに問題が発生した後にコンテンツを再配布する必要があり、レプリケーションを強制する場合のみです (通常、コンソールの監視ノードを使用して確認します)。   

この SDK オプションの詳細については、MSDN.Microsoft.com の「[RetryContentReplication Method in Class SMS_CM_UpdatePackages](https://msdn.microsoft.com/library/mt762092(CMSDK.16).aspx)」(クラス SMS_CM_UpdatePackages の RetryContentReplication メソッド) を参照してください。

### <a name="remove-content"></a>コンテンツの削除
配布ポイントでコンテンツが不要になった場合は、コンテンツ ファイルを削除することができます。  

-   パッケージのプロパティ  
-   配布ポイントのプロパティ  
-   配布ポイント グループのプロパティ  

ただし、コンテンツが同じ配布ポイントに配布済みの別のパッケージに関連付けられている場合、そのコンテンツを削除することはできません。  

#### <a name="to-remove-package-content-files-from-distribution-points"></a>コンテンツ ファイルを配布ポイントから削除するには  

1.  Configuration Manager コンソールで、[ソフトウェア ライブラリ] ****をクリックします。  

2.  [ソフトウェア ライブラリ **** ] ワークスペースで、削除するコンテンツの種類に応じて、次のいずれかの手順を選択します。  

    -   **アプリケーション**: **[アプリケーション管理]** > **[アプリケーション]** の順に展開して、削除するアプリケーションを選択します。  

    -   **パッケージ**: **[アプリケーション管理]** > **[パッケージ]** の順に展開して、削除するパッケージを選択します。  

    -   **展開パッケージ**: **[ソフトウェア更新プログラム]** > **[展開パッケージ]** の順に展開して、削除する展開パッケージを選択します。  

    -   **ドライバー パッケージ**: **[オペレーティング システム]** > **[ドライバー パッケージ]** の順に展開して、削除するドライバー パッケージを選択します。  

    -   **オペレーティング システム イメージ**: **[オペレーティング システム]** > **[オペレーティング システム イメージ]** の順に展開して、削除するオペレーティング システム イメージを選択します。  

    -   **オペレーティング システム インストーラー**: **[オペレーティング システム]** > **[オペレーティング システム インストーラー]** の順に展開して、削除するオペレーティング システム インストーラーを選択します。  

    -   **ブート イメージ**: **[オペレーティング システム]** > **[ブート イメージ]** の順に展開して、削除するブート イメージを選択します。  

3.  **[ホーム]** タブの **[プロパティ]** グループで、 **[プロパティ]**をクリックします。  

4.  [コンテンツの場所 **** ] タブをクリックし、コンテンツを削除する配布ポイントまたは配布ポイント グループを選択して、[削除 ****] をクリックし、[OK ****] をクリックします。  

#### <a name="to-remove-package-content-from-distribution-point-properties"></a>配布ポイント プロパティを使用してコンテンツを削除するには  

1.  Configuration Manager コンソールで、[ **管理**] をクリックします。  

2.  [管理 **** ] ワークスペースで [配布ポイント ****] をクリックして、コンテンツを削除する配布ポイントを選択します。  

3.  **[ホーム]** タブの **[プロパティ]** グループで、 **[プロパティ]**をクリックします。  

4.  [コンテンツ **** ] タブをクリックし、削除するコンテンツを選択して、[削除 ****] をクリックし、[OK ****] をクリックします。  

#### <a name="to-remove-content-from-distribution-point-group-properties"></a>配布ポイント グループ プロパティを使用してコンテンツを削除するには  

1.  Configuration Manager コンソールで、[ **管理**] をクリックします。  

2.  [管理 **** ] ワークスペースで [配布ポイント ****] をクリックして、コンテンツを削除する配布ポイント グループを選択します。  

3.  **[ホーム]** タブの **[プロパティ]** グループで、 **[プロパティ]**をクリックします。  

4.  [コンテンツ **** ] タブをクリックし、削除するコンテンツを選択して、[削除 ****] をクリックし、[OK ****] をクリックします。  


### <a name="validate-content"></a>コンテンツの検証
コンテンツの検証プロセスは、配布ポイントにあるコンテンツ ファイルの整合性を検証します。 コンテンツの検証は、スケジュールに従って有効にするか、配布ポイントとパッケージのプロパティから手動で開始することができます。  

 コンテンツの検証プロセスの開始時に、Configuration Manager は、配布ポイントのコンテンツ ファイルを確認し、ファイルのハッシュが配布ポイント上のファイルには予期されていない場合、Configuration Manager は **[監視]** ワークスペースで確認できるステータス メッセージを作成します。  

 コンテンツ検証スケジュールの構成の詳細については、「[System Center Configuration Manager の配布ポイントのインストールと構成](../../../../core/servers/deploy/configure/install-and-configure-distribution-points.md)」トピックの「[配布ポイントの構成](../../../../core/servers/deploy/configure/install-and-configure-distribution-points.md#bkmk_configs)」をご覧ください。  


#### <a name="to-initiate-content-validation-for-all-content-on-a-distribution-point"></a>配布ポイントにあるすべてのコンテンツの検証を開始するには  

1.  Configuration Manager コンソールで、[ **管理**] をクリックします。  

2.  [管理 **** ] ワークスペースで [配布ポイント ****] をクリックし、コンテンツを検証する配布ポイントを選択します。  

3.  **[ホーム]** タブの **[プロパティ]** グループで、 **[プロパティ]**をクリックします。  

4.  [コンテンツ **** ] タブで、コンテンツを検証するパッケージを選択し、[検証 ****]、[OK ****]、[OK ****] の順にクリックします。 配布ポイントのパッケージで、コンテンツの検証プロセスが開始します。  

5.  コンテンツの検証プロセスの結果を見るには、[監視 **** ] ワークスペースをクリックして [配布ステータス ****] を展開し、[コンテンツのステータス **** ] ノードをクリックします。 パッケージの種類 (アプリケーション、ソフトウェアの更新パッケージ、ブート イメージなど) ごとにコンテンツが表示されます。 コンテンツのステータスを監視する方法の詳細については、「[配布したコンテンツを System Center Configuration Manager で監視する](../../../../core/servers/deploy/configure/monitor-content-you-have-distributed.md)」をご覧ください。  

#### <a name="to-initiate-content-validation-for-a-package"></a>パッケージでコンテンツの検証を開始するには  

1.  Configuration Manager コンソールで、[ソフトウェア ライブラリ] ****をクリックします。  

2.  [ソフトウェア ライブラリ **** ] ワークスペースで、検証するタイプのコンテンツに次のような手順のいずれかを選択します。  

    -   **アプリケーション**: **[アプリケーション管理]** > **[アプリケーション]** の順に展開して、検証するアプリケーションを選択します。  

    -   **パッケージ**: **[アプリケーション管理]** > **[パッケージ]** の順に展開して、検証するパッケージを選択します。  

    -   **展開パッケージ**: **[ソフトウェア更新プログラム]** > **[展開パッケージ]** の順に展開して、検証する展開パッケージを選択します。  

    -   **ドライバー パッケージ**: **[オペレーティング システム]** > **[ドライバー パッケージ]** の順に展開して、検証するドライバー パッケージを選択します。  

    -   **オペレーティング システム イメージ**: **[オペレーティング システム]** > **[オペレーティング システム イメージ]** の順に展開して、検証するオペレーティング システム イメージを選択します。  

    -   **オペレーティング システム インストーラー**: **[オペレーティング システム]** >  **[オペレーティング システム インストーラー]** の順に展開して、検証するオペレーティング システム インストーラーを選択します。  

    -   **ブート イメージ**: **[オペレーティング システム]** > **[ブート イメージ]** の順に展開して、事前設定するブート イメージを選択します。  

3.  **[ホーム]** タブの **[プロパティ]** グループで、 **[プロパティ]**をクリックします。  

4.  [コンテンツの場所 **** ] タブで、コンテンツを検証する配布ポイントまたは配布ポイント グループを選択し、[検証 ****]、[OK ****]、[OK ****] の順にクリックします。 選択した配布ポイントまたは配布ポイント グループで、コンテンツの検証プロセスが開始します。  

5.  コンテンツの検証プロセスの結果を見るには、[監視 **** ] ワークスペースをクリックして [配布ステータス ****] を展開し、[コンテンツのステータス **** ] ノードをクリックします。 パッケージの種類 (アプリケーション、ソフトウェアの更新パッケージ、ブート イメージなど) ごとにコンテンツが表示されます。 コンテンツのステータスを監視する方法の詳細については、「[配布したコンテンツを System Center Configuration Manager で監視する](../../../../core/servers/deploy/configure/monitor-content-you-have-distributed.md)」をご覧ください。  
