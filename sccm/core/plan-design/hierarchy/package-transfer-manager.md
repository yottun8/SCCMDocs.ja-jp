---
title: Package Transfer Manager | System Center Configuration Manager
description: "System Center Configuration Manager の Package Transfer Manager がサイト サーバーからリモート配布ポイントにコンテンツを転送する方法を説明します。"
ms.custom: na
ms.date: 10/06/2016
ms.reviewer: na
ms.suite: na
ms.prod: configuration-manager
ms.technology:
- configmgr-other
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 3359f254-dd48-42b7-9eab-c92a3417e3fb
caps.latest.revision: 3
author: Brenduns
ms.author: brenduns
manager: angrobe
translationtype: Human Translation
ms.sourcegitcommit: 1134bb2f04152288e72d40b1b1083f415cb4e900
ms.openlocfilehash: e77925ce15f20afe463860a22bf670108bbee344

---
# <a name="package-transfer-manager-in-system-center-configuration-manager"></a>System Center Configuration Manager の Package Transfer Manager

*適用対象: System Center Configuration Manager (Current Branch)*

System Center Configuration Manager サイトの Package Transfer Manager は SMS_Executive サービスのコンポーネントであり、サイト サーバー コンピューターからサイトのリモート配布ポイントへのコンテンツの転送を管理します (リモート配布ポイントとは、サイト サーバー コンピューター上にない配布ポイントです)。管理者は Package Transfer Manager を構成できませんが、どのように動作するのかを理解しておくと、コンテンツ管理インフラストラクチャを計画したり、コンテンツ配信の問題を解決したりするときに役立ちます。


サイトのリモート配布ポイントにコンテンツを配布するときは、 **配布マネージャー** がコンテンツ転送ジョブを作成して、プライマリ サイト サーバーとセカンダリ サイト サーバーの Package Transfer Manager に、コンテンツをリモート配布ポイントに転送することを知らせます。

 Package Transfer Manager が、行った処理を **pkgxfermgr.log** ファイルに記録して、サイト サーバーに保存します。 このログ ファイルは、Package Transfer Manager による処理を確認できる唯一の場所です。  

> [!NOTE]  
>  Configuration Manager の旧バージョンでは、配付マネージャーがリモート配付ポイントへのコンテンツの配布を管理します。 配付マネージャーは、サイト間のコンテンツの転送も管理します。 System Center Configuration Manager でも、配付マネージャーは 2 つのサイト間のコンテンツの転送を管理します。 ただし、Package Transfer Manager により、Configuration Manager は、多数の配布ポイントにコンテンツを転送するために必要な操作を、配布マネージャーからオフロードできます。 したがって、旧バージョンに比べると、サイト間だけでなく、サイト内の配布ポイントへのコンテンツの展開のパフォーマンスが向上しています。  

 標準配付ポイントにコンテンツを転送するとき、Package Transfer Manager は、Configuration Managerの旧バージョンの配付マネージャーと同じように動作します。 つまり、各リモート配付ポイントへのファイルの転送に、Package Transfer Manager 自体が介入します。 しかし、プル配付ポイントにコンテンツを配布するときは、Package Transfer Manager は、コンテンツがあることをプル配付ポイントに知らせるだけで、そのコンテンツの転送プロセスをプル配付ポイントに引き継がせます。  

Package Transfer Manager が標準配付ポイントにコンテンツを転送するときと、プル配付ポイントとして構成されている配付ポイントにコンテンツを転送するときに行われる処理を以下にまとめます。
1.  **管理ユーザーがサイトの 1 つまたは複数の配布ポイントにコンテンツを展開する**  

    -   **標準配布ポイント:** 配布マネージャーがそのコンテンツのコンテンツ転送ジョブを作成します。  

    -   **プル配布ポイント:** 配布マネージャーがそのコンテンツのコンテンツ転送ジョブを作成します。  

2.  **配付マネージャーが転送前のチェックを行う**  

    -   **標準配布ポイント:** 配布マネージャーが基本的なチェックを実行して、各配布ポイントがコンテンツを受信する準備ができているかどうかを確認します。 チェックが終わったら、配付マネージャーが Package Transfer Manager に配布ポイントへのコンテンツ転送を開始してもよいことを知らせます。  

    -   **プル配布ポイント:** 配布マネージャーが Package Transfer Manager を起動します。Package Transfer Manager は、新しいコンテンツ転送ジョブがあることをプル配布ポイントに知らせます。 配付マネージャーは、リモートのプル配付ポイントの状態をチェックしません。というのは、それぞれのプル配付ポイントが、そのコンテンツの転送を受け持つからです。  

3.  **Package Transfer Manager がコンテンツの転送を準備する**  

    -   **標準配布ポイント:** Package Transfer Manager が、指定されている各リモート配布ポイントの単一インスタンス コンテンツ ストアを調べて、その配布ポイントにファイルが既に存在しているかどうかを判別します。 次に、配付ポイントに存在しないファイルだけの転送処理をキューに並べます。  

        > [!NOTE]  
        >  コンテンツの [ **再配布** ] アクションを指定した場合は、Package Transfer Manager が、配信ポイントの単一インスタンス ストアに配付対象のファイルが存在する場合でも、そのファイルを配付ポイントにコピーします。  

    -   **プル配布ポイント:** 配布の各プル配布ポイントについて、Package Transfer Manager がプル配布ポイントのソース配布ポイントに利用可能なコンテンツがあるかどうかをチェックします。  

        -   少なくとも 1 つのソース配付ポイントにコンテンツがある場合は、Package Transfer Manager が、そのプル配付ポイントにコンテンツの転送を開始するように指示します。 この指示には、ファイル名とサイズ、属性、ハッシュ値が含まれています。  

        -   ソース配付ポイントにコンテンツがない場合は、Package Transfer Manager は、プル配付ポイントに指示を送信しません。 その代わりに、20 分おきにコンテンツがあるかどうかをチェックします。 コンテンツが見つかったら、該当するプル配付ポイントにコンテンツを転送するように指示します。  

        > [!NOTE]  
        >  コンテンツの [ **再配布** ] アクションを指定した場合は、プル配付ポイントが、プル配付ポイントの単一インスタンス ストアに配付対象のファイルが存在する場合でも、そのファイルをプル配付ポイントにコピーします。  

4.  **コンテンツの転送が開始する**  

    -   **標準配布ポイント:** Package Transfer Manager が各リモート配布ポイントにファイルをコピーします。 転送中に次の処理が行われます。  

        -   既定では、Package Transfer Manager は、同時に 3 つのパッケージを処理でき、5 箇所の配付ポイントに並行して配付できます。 これを「同時配付」といい、各サイトの [ **ソフトウェアの配布コンポーネントのプロパティ** ] の [ **全般** ] タブの [ **同時配付設定** ] で構成できます。  

        -   Package Transfer Manager は、コンテンツを配布ポイントに転送するときに、その配付ポイントのスケジュールとネットワーク帯域幅の構成に従います。 これらの設定は、各リモート配付ポイントの [ **プロパティ** ] の [ **スケジュール** ] タブと [ **転送率の制限** ] タブで行えます。 詳しくは、「[System Center Configuration Manager のコンテンツ インフラストラクチャとコンテンツの管理](../../../core/servers/deploy/configure/manage-content-and-content-infrastructure.md)」を参照してください。  

    -   **プル配布ポイント:** 通知ファイルを受信した配布ポイントがコンテンツの転送プロセスを開始します。 転送プロセスは、プル配付ポイントごとに独立して実行されます。  

        -   プル配付ポイントが、配付するコンテンツのうち、その単一インスタンス ストアに存在しないファイルを識別して、そのソース配付ポイントの 1 つからダウンロードする準備を整えます。  

        -   プル配付ポイントが、目的のコンテンツがあるかどうか、ソース配付ポイントを順番にチェックしていきます。 目的のコンテンツのあるソース配付ポイントが見つかると、そのコンテンツのダウンロードを開始します。  

        > [!NOTE]  
        >  プル配付ポイントがコンテンツをダウンロードするプロセスは、Configuration Manager クライアントがダウンロードするプロセスと同じです。 プル配付ポイントがコンテンツを転送するときは、標準配付ポイントに構成している同時転送設定も、スケジュールと調整オプションも使われません。  

5.  **コンテンツの転送が完了する**  

    -   **標準配布ポイント:** Package Transfer Manager は、指定されている各リモート配布ポイントにファイルを転送した後に、配布ポイントのコンテンツのハッシュを検証して、配布が完了したことを配布マネージャーに知らせます。  

    -   **プル配布ポイント:** プル配布ポイントは、コンテンツのダウンロードが完了した後に、コンテンツのハッシュを検証して、配布が正常に完了したことを知らせるステータス メッセージをサイト管理ポイントに送信します。 しかし、60 分経っても、このステータスを管理ポイントが受信しなかった場合は、Package Transfer Manager が稼働状態に戻り、プル配布ポイントがコンテンツのダウンロードを完了したかどうかを確認します。 コンテンツのダウンロードが進行中の場合は、Package Transfer Manager は、60 分後にプル配布ポイントをもう一度確認するまで休止状態に入ります。 この一連の動作が、プル配布ポイントがコンテンツの転送を完了するまで繰り返されます。  



<!--HONumber=Nov16_HO1-->


